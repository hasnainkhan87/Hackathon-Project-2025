[
    {
        "source": "https://docs.blender.org/api/current/bpy.utils.html",
        "description": "Code example from Blender API page: bpy.utils.html",
        "code": "import os\n\nimport bpy\n\n\ndef sysinfo_print():\n    \"\"\"\n    Report basic system information.\n    \"\"\"\n\n    import pprint\n    import platform\n    import textwrap\n\n    width = 80\n    indent = 2\n\n    print(\"Blender {:s}\".format(bpy.app.version_string))\n    print(\"Running on: {:s}-{:s}\".format(platform.platform(), platform.machine()))\n    print(\"Processors: {!r}\".format(os.cpu_count()))\n    print()\n\n    # Dump `bpy.app`.\n    for attr in dir(bpy.app):\n        if attr.startswith(\"_\"):\n            continue\n        # Overly verbose.\n        if attr in {\"handlers\", \"build_cflags\", \"build_cxxflags\"}:\n            continue\n\n        value = getattr(bpy.app, attr)\n        if attr.startswith(\"build_\"):\n            pass\n        elif isinstance(value, tuple):\n            pass\n        else:\n            # Otherwise ignore.\n            continue\n\n        if isinstance(value, bytes):\n            value = value.decode(\"utf-8\", errors=\"ignore\")\n\n        if isinstance(value, str):\n            pass\n        elif isinstance(value, tuple) and hasattr(value, \"__dir__\"):\n            value = {\n                attr_sub: value_sub\n                for attr_sub in dir(value)\n                # Exclude built-ins.\n                if not attr_sub.startswith((\"_\", \"n_\"))\n                # Exclude methods.\n                if not callable(value_sub := getattr(value, attr_sub))\n            }\n            value = pprint.pformat(value, indent=0, width=width)\n        else:\n            value = pprint.pformat(value, indent=0, width=width)\n\n        print(\"{:s}:\\n{:s}\\n\".format(attr, textwrap.indent(value, \" \" * indent)))\n\n\ndef sysinfo_command(argv):\n    if argv and argv[0] == \"--help\":\n        print(\"Print system information & exit!\")\n        return 0\n\n    sysinfo_print()\n    return 0\n\n\ncli_commands = []\n\n\ndef register():\n    cli_commands.append(bpy.utils.register_cli_command(\"sysinfo\", sysinfo_command))\n\n\ndef unregister():\n    for cmd in cli_commands:\n        bpy.utils.unregister_cli_command(cmd)\n    cli_commands.clear()\n\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.utils.html",
        "description": "Code example from Blender API page: bpy.utils.html",
        "code": "import os\nimport sys\n\nimport bpy\n\n\ndef argparse_create():\n    import argparse\n\n    parser = argparse.ArgumentParser(\n        prog=os.path.basename(sys.argv[0]) + \" --command keyconfig_export\",\n        description=\"Write key-configuration to a file.\",\n    )\n\n    parser.add_argument(\n        \"-o\", \"--output\",\n        dest=\"output\",\n        metavar='OUTPUT',\n        type=str,\n        help=\"The path to write the keymap to.\",\n        required=True,\n    )\n\n    parser.add_argument(\n        \"-a\", \"--all\",\n        dest=\"all\",\n        action=\"store_true\",\n        help=\"Write all key-maps (not only customized key-maps).\",\n        required=False,\n    )\n\n    return parser\n\n\ndef keyconfig_export(argv):\n    parser = argparse_create()\n    args = parser.parse_args(argv)\n\n    # Ensure the key configuration is loaded in background mode.\n    bpy.utils.keyconfig_init()\n\n    bpy.ops.preferences.keyconfig_export(\n        filepath=args.output,\n        all=args.all,\n    )\n\n    return 0\n\n\ncli_commands = []\n\n\ndef register():\n    cli_commands.append(bpy.utils.register_cli_command(\"keyconfig_export\", keyconfig_export))\n\n\ndef unregister():\n    for cmd in cli_commands:\n        bpy.utils.unregister_cli_command(cmd)\n    cli_commands.clear()\n\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/bgl.html",
        "description": "Code example from Blender API page: bgl.html",
        "code": "import bgl\nxval, yval= 100, 40\n# Get the scale of the view matrix.\nview_matrix = bgl.Buffer(bgl.GL_FLOAT, 16)\nbgl.glGetFloatv(bgl.GL_MODELVIEW_MATRIX, view_matrix)\nf = 1.0 / view_matrix[0]\n\n# Instead of the usual `glRasterPos2i(xval, yval)`.\nbgl.glRasterPos2f(xval * f, yval * f)"
    },
    {
        "source": "https://docs.blender.org/api/current/bgl.html",
        "description": "Code example from Blender API page: bgl.html",
        "code": "import bgl\n\nmyByteBuffer = bgl.Buffer(bgl.GL_BYTE, [32, 32])\nbgl.glGetPolygonStipple(myByteBuffer)\n\nprint(myByteBuffer.dimensions)\nprint(myByteBuffer.to_list())\n\nsliceBuffer = myByteBuffer[0:16]\nprint(sliceBuffer)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.AddonPreferences.html",
        "description": "Code example from Blender API page: bpy.types.AddonPreferences.html",
        "code": "bl_info = {\n    \"name\": \"Example Add-on Preferences\",\n    \"author\": \"Your Name Here\",\n    \"version\": (1, 0),\n    \"blender\": (2, 65, 0),\n    \"location\": \"SpaceBar Search -> Add-on Preferences Example\",\n    \"description\": \"Example Add-on\",\n    \"warning\": \"\",\n    \"doc_url\": \"\",\n    \"tracker_url\": \"\",\n    \"category\": \"Object\",\n}\n\n\nimport bpy\nfrom bpy.types import Operator, AddonPreferences\nfrom bpy.props import StringProperty, IntProperty, BoolProperty\n\n\nclass ExampleAddonPreferences(AddonPreferences):\n    # This must match the add-on name, use `__package__`\n    # when defining this for add-on extensions or a sub-module of a Python package.\n    bl_idname = __name__\n\n    filepath: StringProperty(\n        name=\"Example File Path\",\n        subtype='FILE_PATH',\n    )\n    number: IntProperty(\n        name=\"Example Number\",\n        default=4,\n    )\n    boolean: BoolProperty(\n        name=\"Example Boolean\",\n        default=False,\n    )\n\n    def draw(self, context):\n        layout = self.layout\n        layout.label(text=\"This is a preferences view for our add-on\")\n        layout.prop(self, \"filepath\")\n        layout.prop(self, \"number\")\n        layout.prop(self, \"boolean\")\n\n\nclass OBJECT_OT_addon_prefs_example(Operator):\n    \"\"\"Display example preferences\"\"\"\n    bl_idname = \"object.addon_prefs_example\"\n    bl_label = \"Add-on Preferences Example\"\n    bl_options = {'REGISTER', 'UNDO'}\n\n    def execute(self, context):\n        preferences = context.preferences\n        addon_prefs = preferences.addons[__name__].preferences\n\n        info = \"Path: {:s}, Number: {:d}, Boolean {!r}\".format(\n            addon_prefs.filepath, addon_prefs.number, addon_prefs.boolean,\n        )\n        self.report({'INFO'}, info)\n        print(info)\n\n        return {'FINISHED'}\n\n\n# Registration\ndef register():\n    bpy.utils.register_class(OBJECT_OT_addon_prefs_example)\n    bpy.utils.register_class(ExampleAddonPreferences)\n\n\ndef unregister():\n    bpy.utils.unregister_class(OBJECT_OT_addon_prefs_example)\n    bpy.utils.unregister_class(ExampleAddonPreferences)"
    },
    {
        "source": "https://docs.blender.org/api/current/mathutils.html",
        "description": "Code example from Blender API page: mathutils.html",
        "code": "import mathutils\nfrom math import radians\n\nvec = mathutils.Vector((1.0, 2.0, 3.0))\n\nmat_rot = mathutils.Matrix.Rotation(radians(90.0), 4, 'X')\nmat_trans = mathutils.Matrix.Translation(vec)\n\nmat = mat_trans @ mat_rot\nmat.invert()\n\nmat3 = mat.to_3x3()\nquat1 = mat.to_quaternion()\nquat2 = mat3.to_quaternion()\n\nquat_diff = quat1.rotation_difference(quat2)\n\nprint(quat_diff.angle)"
    },
    {
        "source": "https://docs.blender.org/api/current/mathutils.html",
        "description": "Code example from Blender API page: mathutils.html",
        "code": "import mathutils\n\n# Color values are represented as RGB values from 0 - 1, this is blue.\ncol = mathutils.Color((0.0, 0.0, 1.0))\n\n# As well as r/g/b attribute access you can adjust them by h/s/v.\ncol.s *= 0.5\n\n# You can access its components by attribute or index.\nprint(\"Color R:\", col.r)\nprint(\"Color G:\", col[1])\nprint(\"Color B:\", col[-1])\nprint(\"Color HSV: {:.2f}, {:.2f}, {:.2f}\".format(*col))\n\n\n# Components of an existing color can be set.\ncol[:] = 0.0, 0.5, 1.0\n\n# Components of an existing color can use slice notation to get a tuple.\nprint(\"Values: {:f}, {:f}, {:f}\".format(*col))\n\n# Colors can be added and subtracted.\ncol += mathutils.Color((0.25, 0.0, 0.0))\n\n# Color can be multiplied, in this example color is scaled to 0-255\n# can printed as integers.\nprint(\"Color: {:d}, {:d}, {:d}\".format(*(int(c) for c in (col * 255.0))))\n\n# This example prints the color as hexadecimal.\nprint(\"Hexadecimal: {:02x}{:02x}{:02x}\".format(int(col.r * 255), int(col.g * 255), int(col.b * 255)))"
    },
    {
        "source": "https://docs.blender.org/api/current/mathutils.html",
        "description": "Code example from Blender API page: mathutils.html",
        "code": "import mathutils\nimport math\n\n# Create a new euler with default axis rotation order.\neul = mathutils.Euler((0.0, math.radians(45.0), 0.0), 'XYZ')\n\n# Rotate the euler.\neul.rotate_axis('Z', math.radians(10.0))\n\n# You can access its components by attribute or index.\nprint(\"Euler X\", eul.x)\nprint(\"Euler Y\", eul[1])\nprint(\"Euler Z\", eul[-1])\n\n# Components of an existing euler can be set.\neul[:] = 1.0, 2.0, 3.0\n\n# Components of an existing euler can use slice notation to get a tuple.\nprint(\"Values: {:f}, {:f}, {:f}\".format(*eul))\n\n# The order can be set at any time too.\neul.order = 'ZYX'\n\n# Eulers can be used to rotate vectors.\nvec = mathutils.Vector((0.0, 0.0, 1.0))\nvec.rotate(eul)\n\n# Often its useful to convert the euler into a matrix so it can be used as\n# transformations with more flexibility.\nmat_rot = eul.to_matrix()\nmat_loc = mathutils.Matrix.Translation((2.0, 3.0, 4.0))\nmat = mat_loc @ mat_rot.to_4x4()"
    },
    {
        "source": "https://docs.blender.org/api/current/mathutils.html",
        "description": "Code example from Blender API page: mathutils.html",
        "code": "import mathutils\nimport math\n\n# Create a location matrix.\nmat_loc = mathutils.Matrix.Translation((2.0, 3.0, 4.0))\n\n# Create an identity matrix.\nmat_sca = mathutils.Matrix.Scale(0.5, 4, (0.0, 0.0, 1.0))\n\n# Create a rotation matrix.\nmat_rot = mathutils.Matrix.Rotation(math.radians(45.0), 4, 'X')\n\n# Combine transformations.\nmat_out = mat_loc @ mat_rot @ mat_sca\nprint(mat_out)\n\n# Extract components back out of the matrix as two vectors and a quaternion.\nloc, rot, sca = mat_out.decompose()\nprint(loc, rot, sca)\n\n# Recombine extracted components.\nmat_out2 = mathutils.Matrix.LocRotScale(loc, rot, sca)\nprint(mat_out2)\n\n# It can also be useful to access components of a matrix directly.\nmat = mathutils.Matrix()\nmat[0][0], mat[1][0], mat[2][0] = 0.0, 1.0, 2.0\n\nmat[0][0:3] = 0.0, 1.0, 2.0\n\n# Each item in a matrix is a vector so vector utility functions can be used.\nmat[0].xyz = 0.0, 1.0, 2.0"
    },
    {
        "source": "https://docs.blender.org/api/current/mathutils.html",
        "description": "Code example from Blender API page: mathutils.html",
        "code": "# Compute local object transformation matrix:\nif obj.rotation_mode == 'QUATERNION':\n    matrix = mathutils.Matrix.LocRotScale(obj.location, obj.rotation_quaternion, obj.scale)\nelse:\n    matrix = mathutils.Matrix.LocRotScale(obj.location, obj.rotation_euler, obj.scale)"
    },
    {
        "source": "https://docs.blender.org/api/current/mathutils.html",
        "description": "Code example from Blender API page: mathutils.html",
        "code": "import mathutils\nimport math\n\n# A new rotation 90 degrees about the Y axis.\nquat_a = mathutils.Quaternion((0.7071068, 0.0, 0.7071068, 0.0))\n\n# Passing values to Quaternion's directly can be confusing so axis, angle\n# is supported for initializing too.\nquat_b = mathutils.Quaternion((0.0, 1.0, 0.0), math.radians(90.0))\n\nprint(\"Check quaternions match\", quat_a == quat_b)\n\n# Like matrices, quaternions can be multiplied to accumulate rotational values.\nquat_a = mathutils.Quaternion((0.0, 1.0, 0.0), math.radians(90.0))\nquat_b = mathutils.Quaternion((0.0, 0.0, 1.0), math.radians(45.0))\nquat_out = quat_a @ quat_b\n\n# Print the quaternion, euler degrees for mere mortals and (axis, angle).\nprint(\"Final Rotation:\")\nprint(quat_out)\nprint(\"{:.2f}, {:.2f}, {:.2f}\".format(*(math.degrees(a) for a in quat_out.to_euler())))\nprint(\"({:.2f}, {:.2f}, {:.2f}), {:.2f}\".format(*quat_out.axis, math.degrees(quat_out.angle)))\n\n# Multiple rotations can be interpolated using the exponential map.\nquat_c = mathutils.Quaternion((1.0, 0.0, 0.0), math.radians(15.0))\nexp_avg = (quat_a.to_exponential_map() +\n           quat_b.to_exponential_map() +\n           quat_c.to_exponential_map()) / 3.0\nquat_avg = mathutils.Quaternion(exp_avg)\nprint(\"Average rotation:\")\nprint(quat_avg)"
    },
    {
        "source": "https://docs.blender.org/api/current/mathutils.html",
        "description": "Code example from Blender API page: mathutils.html",
        "code": "import mathutils\n\n# Zero length vector.\nvec = mathutils.Vector((0.0, 0.0, 1.0))\n\n# Unit length vector.\nvec_a = vec.normalized()\n\nvec_b = mathutils.Vector((0.0, 1.0, 2.0))\n\nvec2d = mathutils.Vector((1.0, 2.0))\nvec3d = mathutils.Vector((1.0, 0.0, 0.0))\nvec4d = vec_a.to_4d()\n\n# Other `mathutils` types.\nquat = mathutils.Quaternion()\nmatrix = mathutils.Matrix()\n\n# Comparison operators can be done on Vector classes:\n\n# (In)equality operators == and != test component values, e.g. 1,2,3 != 3,2,1\nvec_a == vec_b\nvec_a != vec_b\n\n# Ordering operators >, >=, > and <= test vector length.\nvec_a > vec_b\nvec_a >= vec_b\nvec_a < vec_b\nvec_a <= vec_b\n\n\n# Math can be performed on Vector classes.\nvec_a + vec_b\nvec_a - vec_b\nvec_a @ vec_b\nvec_a * 10.0\nmatrix @ vec_a\nquat @ vec_a\n-vec_a\n\n\n# You can access a vector object like a sequence.\nx = vec_a[0]\nlen(vec)\nvec_a[:] = vec_b\nvec_a[:] = 1.0, 2.0, 3.0\nvec2d[:] = vec3d[:2]\n\n\n# Vectors support 'swizzle' operations.\n# See https://en.wikipedia.org/wiki/Swizzling_(computer_graphics)\nvec.xyz = vec.zyx\nvec.xy = vec4d.zw\nvec.xyz = vec4d.wzz\nvec4d.wxyz = vec.yxyx"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.context.html",
        "description": "Code example from Blender API page: bpy.context.html",
        "code": "# Example inserting keyframe for the hovered property.\nactive_property = bpy.context.property\nif active_property:\n    datablock, data_path, index = active_property\n    datablock.keyframe_insert(data_path=data_path, index=index, frame=1)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Context.html",
        "description": "Code example from Blender API page: bpy.types.Context.html",
        "code": "import bpy\nfrom bpy import context\n\n# Reload the current file and select all.\nbpy.ops.wm.open_mainfile(filepath=bpy.data.filepath)\nwindow = context.window_manager.windows[0]\nwith context.temp_override(window=window):\n    bpy.ops.mesh.primitive_uv_sphere_add()\n    # The context override is needed so it's possible to set edit-mode.\n    bpy.ops.object.mode_set(mode='EDIT')"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Context.html",
        "description": "Code example from Blender API page: bpy.types.Context.html",
        "code": "import bpy\nfrom bpy import context\n\nwin_active = context.window\nwin_other = None\nfor win_iter in context.window_manager.windows:\n    if win_iter != win_active:\n        win_other = win_iter\n        break\n\n# Add cube in the other window.\nwith context.temp_override(window=win_other):\n    bpy.ops.mesh.primitive_cube_add()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.app.translations.html",
        "description": "Code example from Blender API page: bpy.app.translations.html",
        "code": "import bpy\n\n# This block can be automatically generated by UI translations addon, which also handles conversion with PO format.\n# See also https://developer.blender.org/docs/handbook/translating/translator_guide/#translating-non-official-add-ons\n# It can (should) also be put in a different, specific py file.\n\n# ##### BEGIN AUTOGENERATED I18N SECTION #####\n# NOTE: You can safely move around this auto-generated block (with the begin/end markers!),\n#       and edit the translations by hand.\n#       Just carefully respect the format of the tuple!\n\n# Tuple of tuples ((msgctxt, msgid), (sources, gen_comments), (lang, translation, (is_fuzzy, comments)), ...)\ntranslations_tuple = (\n    ((\"*\", \"\"),\n     ((), ()),\n     (\"fr_FR\", \"Project-Id-Version: Copy Settings 0.1.5 (r0)\\nReport-Msgid-Bugs-To: \\nPOT-Creation-Date: 2013-04-18 15:27:45.563524\\nPO-Revision-Date: 2013-04-18 15:38+0100\\nLast-Translator: Bastien Montagne <[email protected]>\\nLanguage-Team: LANGUAGE <[email protected]>\\nLanguage: __POT__\\nMIME-Version: 1.0\\nContent-Type: text/plain; charset=UTF-8\\nContent-Transfer-Encoding: 8bit\\n\",\n               (False,\n                (\"Blender's translation file (po format).\",\n                 \"Copyright (C) 2013 The Blender Foundation.\",\n                 \"This file is distributed under the same license as the Blender package.\",\n                 \"FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.\"))),\n     ),\n    ((\"Operator\", \"Render: Copy Settings\"),\n     ((\"bpy.types.SCENE_OT_render_copy_settings\",),\n      ()),\n     (\"fr_FR\", \"Rendu: copier rÃ©glages\",\n               (False, ())),\n     ),\n    ((\"*\", \"Copy render settings from current scene to others\"),\n     ((\"bpy.types.SCENE_OT_render_copy_settings\",),\n      ()),\n     (\"fr_FR\", \"Copier les rÃ©glages de rendu depuis la scÃ¨ne courante vers dâautres\",\n               (False, ())),\n     ),\n    # ... etc, all messages from your addon.\n)\n\ntranslations_dict = {}\nfor msg in translations_tuple:\n    key = msg[0]\n    for lang, trans, (is_fuzzy, comments) in msg[2:]:\n        if trans and not is_fuzzy:\n            translations_dict.setdefault(lang, {})[key] = trans\n\n# ##### END AUTOGENERATED I18N SECTION #####\n\n# Define remaining addon (operators, UI...) here.\n\n\ndef register():\n   # Usual operator/UI/etc. registration...\n\n    bpy.app.translations.register(__name__, translations_dict)\n\n\ndef unregister():\n    bpy.app.translations.unregister(__name__)\n\n   # Usual operator/UI/etc. unregistration..."
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.app.translations.html",
        "description": "Code example from Blender API page: bpy.app.translations.html",
        "code": ">>> bpy.app.translations.locale_explode(\"sr_RS@latin\")\n(\"sr\", \"RS\", \"latin\", \"sr_RS\", \"sr@latin\")"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.GeometrySet.html",
        "description": "Code example from Blender API page: bpy.types.GeometrySet.html",
        "code": "import bpy\n\n# The GeometrySet can only be retrieved from an evaluated object. So one always\n# needs a depsgraph that has evaluated the object.\ndepsgraph = bpy.context.view_layer.depsgraph\nob = bpy.context.active_object\nob_eval = depsgraph.id_eval_get(ob)\n\n# Get the final evaluated geometry of an object.\ngeometry = ob_eval.evaluated_geometry()\n\n# Print basic information like the number of elements.\nprint(geometry)\n\n# A geometry set may have a name. It can be set with the Set Geometry Name node.\nprint(geometry.name)\n\n# Access \"realized\" geometry components.\nprint(geometry.mesh)\nprint(geometry.pointcloud)\nprint(geometry.curves)\nprint(geometry.volume)\nprint(geometry.grease_pencil)\n\n# Access the mesh without final subdivision applied.\nprint(geometry.mesh_base)\n\n# Accessing instances is a bit more tricky, because there is no specific\n# mechanism to expose instances. Instead, two accessors are provided which\n# are easy to keep working in the future even if we get a proper Instances type.\n\n# This is a pointcloud that provides access to all the instance attributes.\n# There is a point per instances. May return None if there is no instances data.\ninstances_pointcloud = geometry.instances_pointcloud()\n\nif instances_pointcloud is not None:\n    # This is a list containing the data that is instanced. The list may contain\n    # None, objects, collections or other GeometrySets. If the geometry does not\n    # have instances, the list is empty.\n    references = geometry.instance_references()\n\n    # Besides normal generic attributes, there are also two important\n    # instance-specific attributes. \"instance_transform\" is a 4x4 matrix attribute\n    # containing the transforms of each instance.\n    instance_transforms = instances_pointcloud.attributes[\"instance_transform\"]\n\n    # \".reference_index\" contains indices into the `references` list above and\n    # determines what geometry each instance uses.\n    reference_indices = instances_pointcloud.attributes[\".reference_index\"]"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_armatures_and_bones.html",
        "description": "Code example from Blender API page: info_gotchas_armatures_and_bones.html",
        "code": ">>> bpy.context.object.data.edit_bones[\"Bone\"].head = Vector((1.0, 2.0, 3.0))"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_armatures_and_bones.html",
        "description": "Code example from Blender API page: info_gotchas_armatures_and_bones.html",
        "code": ">>> mybones = bpy.context.selected_editable_bones"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_armatures_and_bones.html",
        "description": "Code example from Blender API page: info_gotchas_armatures_and_bones.html",
        "code": ">>> bpy.context.active_bone"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_armatures_and_bones.html",
        "description": "Code example from Blender API page: info_gotchas_armatures_and_bones.html",
        "code": ">>> bpy.context.active_bone"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_armatures_and_bones.html",
        "description": "Code example from Blender API page: info_gotchas_armatures_and_bones.html",
        "code": ">>> bpy.context.object.data.bones[\"Bone\"].use_deform = True"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_armatures_and_bones.html",
        "description": "Code example from Blender API page: info_gotchas_armatures_and_bones.html",
        "code": ">>> tail = myobj.data.bones[\"Bone\"].tail"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_armatures_and_bones.html",
        "description": "Code example from Blender API page: info_gotchas_armatures_and_bones.html",
        "code": "# Gets the name of the first constraint (if it exists).\nbpy.context.object.pose.bones[\"Bone\"].constraints[0].name\n\n# Gets the last selected pose bone (Pose-Mode only).\nbpy.context.active_pose_bone"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.ID.html",
        "description": "Code example from Blender API page: bpy.types.ID.html",
        "code": "# This example shows what _not_ to do, and will crash Blender.\nimport bpy\n\n# Object which is in the scene.\nobj = bpy.data.objects[\"Cube\"]\n\n# Without this, removal would raise an error.\nobj.user_clear()\n\n# Runs without an exception but will crash on redraw.\nbpy.data.objects.remove(obj)"
    },
    {
        "source": "https://docs.blender.org/api/current/freestyle.types.html",
        "description": "Code example from Blender API page: freestyle.types.html",
        "code": "it = ioStroke.strokeVerticesBegin()\nwhile not it.is_end:\n    att = it.object.attribute\n    ## perform here any attribute modification\n    it.increment()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.BlendDataLibraries.html",
        "description": "Code example from Blender API page: bpy.types.BlendDataLibraries.html",
        "code": "import bpy\n\nfilepath = \"//link_library.blend\"\n\n# Load a single scene we know the name of.\nwith bpy.data.libraries.load(filepath) as (data_from, data_to):\n    data_to.scenes = [\"Scene\"]\n\n\n# Load all meshes.\nwith bpy.data.libraries.load(filepath) as (data_from, data_to):\n    data_to.meshes = data_from.meshes\n\n\n# Link all objects starting with \"A\".\nwith bpy.data.libraries.load(filepath, link=True) as (data_from, data_to):\n    data_to.objects = [name for name in data_from.objects if name.startswith(\"A\")]\n\n\n# Append everything.\nwith bpy.data.libraries.load(filepath) as (data_from, data_to):\n    for attr in dir(data_to):\n        setattr(data_to, attr, getattr(data_from, attr))\n\n\n# The loaded objects can be accessed from 'data_to' outside of the context\n# since loading the data replaces the strings for the data-blocks or None\n# if the data-block could not be loaded.\nwith bpy.data.libraries.load(filepath) as (data_from, data_to):\n    data_to.meshes = data_from.meshes\n# Now operate directly on the loaded data.\nfor mesh in data_to.meshes:\n    if mesh is not None:\n        print(mesh.name)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.BlendDataLibraries.html",
        "description": "Code example from Blender API page: bpy.types.BlendDataLibraries.html",
        "code": "import bpy\n\nfilepath = \"//new_library.blend\"\n\n# Write selected objects and their data to a blend file.\ndata_blocks = set(bpy.context.selected_objects)\nbpy.data.libraries.write(filepath, data_blocks)\n\n\n# Write all meshes starting with a capital letter and\n# set them with fake-user enabled so they aren't lost on re-saving.\ndata_blocks = {mesh for mesh in bpy.data.meshes if mesh.name[:1].isupper()}\nbpy.data.libraries.write(filepath, data_blocks, fake_user=True)\n\n\n# Write all materials, textures and node groups to a library.\ndata_blocks = {*bpy.data.materials, *bpy.data.textures, *bpy.data.node_groups}\nbpy.data.libraries.write(filepath, data_blocks)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Panel.html",
        "description": "Code example from Blender API page: bpy.types.Panel.html",
        "code": "import bpy\n\n\nclass HelloWorldPanel(bpy.types.Panel):\n    bl_idname = \"OBJECT_PT_hello_world\"\n    bl_label = \"Hello World\"\n    bl_space_type = 'PROPERTIES'\n    bl_region_type = 'WINDOW'\n    bl_context = \"object\"\n\n    def draw(self, context):\n        self.layout.label(text=\"Hello World\")\n\n\nbpy.utils.register_class(HelloWorldPanel)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Panel.html",
        "description": "Code example from Blender API page: bpy.types.Panel.html",
        "code": "import bpy\n\n\nclass ObjectSelectPanel(bpy.types.Panel):\n    bl_idname = \"OBJECT_PT_select\"\n    bl_label = \"Select\"\n    bl_space_type = 'PROPERTIES'\n    bl_region_type = 'WINDOW'\n    bl_context = \"object\"\n    bl_options = {'DEFAULT_CLOSED'}\n\n    @classmethod\n    def poll(cls, context):\n        return (context.object is not None)\n\n    def draw_header(self, context):\n        layout = self.layout\n        layout.label(text=\"My Select Panel\")\n\n    def draw(self, context):\n        layout = self.layout\n\n        box = layout.box()\n        box.label(text=\"Selection Tools\")\n        box.operator(\"object.select_all\").action = 'TOGGLE'\n        row = box.row()\n        row.operator(\"object.select_all\").action = 'INVERT'\n        row.operator(\"object.select_random\")\n\n\nbpy.utils.register_class(ObjectSelectPanel)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Panel.html",
        "description": "Code example from Blender API page: bpy.types.Panel.html",
        "code": "import bpy\n\n\nclass View3DPanel:\n    bl_space_type = 'VIEW_3D'\n    bl_region_type = 'UI'\n    bl_category = \"Tool\"\n\n    @classmethod\n    def poll(cls, context):\n        return (context.object is not None)\n\n\nclass PanelOne(View3DPanel, bpy.types.Panel):\n    bl_idname = \"VIEW3D_PT_test_1\"\n    bl_label = \"Panel One\"\n\n    def draw(self, context):\n        self.layout.label(text=\"Small Class\")\n\n\nclass PanelTwo(View3DPanel, bpy.types.Panel):\n    bl_idname = \"VIEW3D_PT_test_2\"\n    bl_label = \"Panel Two\"\n\n    def draw(self, context):\n        self.layout.label(text=\"Also Small Class\")\n\n\nbpy.utils.register_class(PanelOne)\nbpy.utils.register_class(PanelTwo)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.PropertyGroup.html",
        "description": "Code example from Blender API page: bpy.types.PropertyGroup.html",
        "code": "import bpy\n\n\nclass MyPropertyGroup(bpy.types.PropertyGroup):\n    custom_1: bpy.props.FloatProperty(name=\"My Float\")\n    custom_2: bpy.props.IntProperty(name=\"My Int\")\n\n\nbpy.utils.register_class(MyPropertyGroup)\n\nbpy.types.Object.my_prop_grp = bpy.props.PointerProperty(type=MyPropertyGroup)\n\n\n# Test this worked.\nbpy.data.objects[0].my_prop_grp.custom_1 = 22.0"
    },
    {
        "source": "https://docs.blender.org/api/current/bmesh.types.html",
        "description": "Code example from Blender API page: bmesh.types.html",
        "code": "for index, ele in enumerate(sequence):\n    ele.index = index"
    },
    {
        "source": "https://docs.blender.org/api/current/bmesh.types.html",
        "description": "Code example from Blender API page: bmesh.types.html",
        "code": "for index, ele in enumerate(sequence):\n    ele.index = index"
    },
    {
        "source": "https://docs.blender.org/api/current/bmesh.types.html",
        "description": "Code example from Blender API page: bmesh.types.html",
        "code": "for index, ele in enumerate(sequence):\n    ele.index = index"
    },
    {
        "source": "https://docs.blender.org/api/current/bmesh.types.html",
        "description": "Code example from Blender API page: bmesh.types.html",
        "code": "for index, ele in enumerate(sequence):\n    ele.index = index"
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": "bpy.context.scene.render.image_settings.file_format = 'PNG'\nbpy.context.scene.render.filepath = \"//render_out\""
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": "layout.prop()\nlayout.prop()"
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": "row = layout.row()\nrow.prop()\nrow.prop()"
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": "col = layout.column()\ncol.prop()\ncol.prop()"
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": "split = layout.split()\n\ncol = split.column()\ncol.prop()\ncol.prop()\n\ncol = split.column()\ncol.prop()\ncol.prop()"
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": "my_list.count(list_item)\nmy_list.index(list_item)\nmy_list.remove(list_item)\nif list_item in my_list: ..."
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": "polygons = mesh.polygons[:]  # Make a list copy of the meshes polygons.\np_idx = len(polygons)        # Loop backwards\nwhile p_idx:                 # While the value is not 0.\n    p_idx -= 1\n\n    if len(polygons[p_idx].vertices) == 3:\n        polygons.pop(p_idx)  # Remove the triangle."
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": "polygons = [p for p in mesh.polygons if len(p.vertices) != 3]"
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": "for l in some_list:\n    my_list.append(l)"
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": "my_list.extend([a, b, c...])"
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": "reverse_list = []\nfor list_item in some_list:\n    reverse_list.insert(0, list_item)"
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": "some_reversed_list = some_list[::-1]"
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": "list_index = len(my_list)\n\nwhile list_index:\n    list_index -= 1\n    if my_list[list_index].some_test_attribute == 1:\n        my_list.pop(list_index)"
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": "pop_index = 5\n\n# Swap so the pop_index is last.\nmy_list[-1], my_list[pop_index] = my_list[pop_index], my_list[-1]\n\n# Remove last item (pop_index).\nmy_list.pop()"
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": ">>> my_list = some_list_func(my_list)"
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": ">>> some_list_func(vec)"
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": ">>> foobar(my_list[:])"
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": ">>> file.write(str1 + \" \" + str2 + \" \" + str3 + \"\\n\")"
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": ">>> file.write(\"%s %s %s\\n\" % (str1, str2, str3))"
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": ">>> file.write(\" \".join((str1, str2, str3, \"\\n\")))"
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": ">>> if line[0:5] == \"vert \": ..."
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": ">>> if line.startswith(\"vert \"):"
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": ">>> if line.lower().startswith(\"vert \")"
    },
    {
        "source": "https://docs.blender.org/api/current/info_best_practice.html",
        "description": "Code example from Blender API page: info_best_practice.html",
        "code": "import time\ntime_start = time.time()\n\n# Do something...\n\nprint(\"My Script Finished: %.4f sec\" % (time.time() - time_start))"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.RenderEngine.html",
        "description": "Code example from Blender API page: bpy.types.RenderEngine.html",
        "code": "import bpy\nimport array\n\n\nclass CustomRenderEngine(bpy.types.RenderEngine):\n    # These three members are used by Blender to set up the\n    # RenderEngine; define its internal name, visible name and capabilities.\n    bl_idname = \"CUSTOM\"\n    bl_label = \"Custom\"\n    bl_use_preview = True\n\n    # Init is called whenever a new render engine instance is created. Multiple\n    # instances may exist at the same time, for example for a viewport and final\n    # render.\n    # Note the generic arguments signature, and the call to the parent class\n    # `__init__` methods, which are required for Blender to create the underlying\n    # `RenderEngine` data.\n    def __init__(self, *args, **kwargs):\n        super().__init__(*args, **kwargs)\n        self.scene_data = None\n        self.draw_data = None\n\n    # When the render engine instance is destroy, this is called. Clean up any\n    # render engine data here, for example stopping running render threads.\n    def __del__(self):\n        # Own delete code...\n        super().__del__()\n\n    # This is the method called by Blender for both final renders (F12) and\n    # small preview for materials, world and lights.\n    def render(self, depsgraph):\n        scene = depsgraph.scene\n        scale = scene.render.resolution_percentage / 100.0\n        self.size_x = int(scene.render.resolution_x * scale)\n        self.size_y = int(scene.render.resolution_y * scale)\n\n        # Fill the render result with a flat color. The frame-buffer is\n        # defined as a list of pixels, each pixel itself being a list of\n        # R,G,B,A values.\n        if self.is_preview:\n            color = [0.1, 0.2, 0.1, 1.0]\n        else:\n            color = [0.2, 0.1, 0.1, 1.0]\n\n        pixel_count = self.size_x * self.size_y\n        rect = [color] * pixel_count\n\n        # Here we write the pixel values to the RenderResult\n        result = self.begin_result(0, 0, self.size_x, self.size_y)\n        layer = result.layers[0].passes[\"Combined\"]\n        layer.rect = rect\n        self.end_result(result)\n\n    # For viewport renders, this method gets called once at the start and\n    # whenever the scene or 3D viewport changes. This method is where data\n    # should be read from Blender in the same thread. Typically a render\n    # thread will be started to do the work while keeping Blender responsive.\n    def view_update(self, context, depsgraph):\n        region = context.region\n        view3d = context.space_data\n        scene = depsgraph.scene\n\n        # Get viewport dimensions\n        dimensions = region.width, region.height\n\n        if not self.scene_data:\n            # First time initialization\n            self.scene_data = []\n            first_time = True\n\n            # Loop over all datablocks used in the scene.\n            for datablock in depsgraph.ids:\n                pass\n        else:\n            first_time = False\n\n            # Test which datablocks changed\n            for update in depsgraph.updates:\n                print(\"Datablock updated: \", update.id.name)\n\n            # Test if any material was added, removed or changed.\n            if depsgraph.id_type_updated('MATERIAL'):\n                print(\"Materials updated\")\n\n        # Loop over all object instances in the scene.\n        if first_time or depsgraph.id_type_updated('OBJECT'):\n            for instance in depsgraph.object_instances:\n                pass\n\n    # For viewport renders, this method is called whenever Blender redraws\n    # the 3D viewport. The renderer is expected to quickly draw the render\n    # with OpenGL, and not perform other expensive work.\n    # Blender will draw overlays for selection and editing on top of the\n    # rendered image automatically.\n    def view_draw(self, context, depsgraph):\n        # Lazily import GPU module, so that the render engine works in\n        # background mode where the GPU module can't be imported by default.\n        import gpu\n\n        region = context.region\n        scene = depsgraph.scene\n\n        # Get viewport dimensions\n        dimensions = region.width, region.height\n\n        # Bind shader that converts from scene linear to display space,\n        gpu.state.blend_set('ALPHA_PREMULT')\n        self.bind_display_space_shader(scene)\n\n        if not self.draw_data or self.draw_data.dimensions != dimensions:\n            self.draw_data = CustomDrawData(dimensions)\n\n        self.draw_data.draw()\n\n        self.unbind_display_space_shader()\n        gpu.state.blend_set('NONE')\n\n\nclass CustomDrawData:\n    def __init__(self, dimensions):\n        import gpu\n\n        # Generate dummy float image buffer.\n        self.dimensions = dimensions\n        width, height = dimensions\n\n        pixels = width * height * array.array('f', [0.1, 0.2, 0.1, 1.0])\n        pixels = gpu.types.Buffer('FLOAT', width * height * 4, pixels)\n\n        # Generate texture.\n        self.texture = gpu.types.GPUTexture((width, height), format='RGBA16F', data=pixels)\n\n        # Note: This is just a didactic example.\n        # In this case it would be more convenient to fill the texture with:\n        # self.texture.clear('FLOAT', value=[0.1, 0.2, 0.1, 1.0])\n\n    def __del__(self):\n        del self.texture\n\n    def draw(self):\n        from gpu_extras.presets import draw_texture_2d\n        draw_texture_2d(self.texture, (0, 0), self.texture.width, self.texture.height)\n\n\n# RenderEngines also need to tell UI Panels that they are compatible with.\n# We recommend to enable all panels marked as BLENDER_RENDER, and then\n# exclude any panels that are replaced by custom panels registered by the\n# render engine, or that are not supported.\ndef get_panels():\n    exclude_panels = {\n        'VIEWLAYER_PT_filter',\n        'VIEWLAYER_PT_layer_passes',\n    }\n\n    panels = []\n    for panel in bpy.types.Panel.__subclasses__():\n        if hasattr(panel, 'COMPAT_ENGINES') and 'BLENDER_RENDER' in panel.COMPAT_ENGINES:\n            if panel.__name__ not in exclude_panels:\n                panels.append(panel)\n\n    return panels\n\n\ndef register():\n    # Register the RenderEngine.\n    bpy.utils.register_class(CustomRenderEngine)\n\n    for panel in get_panels():\n        panel.COMPAT_ENGINES.add('CUSTOM')\n\n\ndef unregister():\n    bpy.utils.unregister_class(CustomRenderEngine)\n\n    for panel in get_panels():\n        if 'CUSTOM' in panel.COMPAT_ENGINES:\n            panel.COMPAT_ENGINES.remove('CUSTOM')\n\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.RenderEngine.html",
        "description": "Code example from Blender API page: bpy.types.RenderEngine.html",
        "code": "import bpy\n\n\nclass CustomGPURenderEngine(bpy.types.RenderEngine):\n    bl_idname = \"CUSTOM_GPU\"\n    bl_label = \"Custom GPU\"\n\n    # Request a GPU context to be created and activated for the render method.\n    # This may be used either to perform the rendering itself, or to allocate\n    # and fill a texture for more efficient drawing.\n    bl_use_gpu_context = True\n\n    def render(self, depsgraph):\n        # Lazily import GPU module, since GPU context is only created on demand\n        # for rendering and does not exist on register.\n        import gpu\n\n        # Perform rendering task.\n        pass\n\n\ndef register():\n    bpy.utils.register_class(CustomGPURenderEngine)\n\n\ndef unregister():\n    bpy.utils.unregister_class(CustomGPURenderEngine)\n\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Attribute.html",
        "description": "Code example from Blender API page: bpy.types.Attribute.html",
        "code": "radii = curves.attributes[\"radius\"]"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Attribute.html",
        "description": "Code example from Blender API page: bpy.types.Attribute.html",
        "code": "# Add a new attribute named `my_attribute_name` of type `float` on the point domain of the geometry.\nmy_attribute = curves.attributes.new(\"my_attribute_name\", 'FLOAT', 'POINT')"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Attribute.html",
        "description": "Code example from Blender API page: bpy.types.Attribute.html",
        "code": "attribute = drawing.attributes[\"some_attribute\"]\ndrawing.attributes.remove(attribute)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Attribute.html",
        "description": "Code example from Blender API page: bpy.types.Attribute.html",
        "code": "import numpy as np\n\n# Get the radius attribute.\nradii = curves.attributes[\"radius\"]\n# Print the radius of the first point.\nprint(radii.data[0].value)\n# Output: 0.005\n\n# Get the total number of points.\nnum_points = attributes.domain_size('POINT')\n# Create an empty buffer to read all the radii into.\nradii_data = np.zeros(num_points, dtype=np.float32)\n# Read all the radii of the curves into `radii_data` at once.\nradii.data.foreach_get('value', radii_data)\n# Print all the radii.\nprint(radii_data)\n# Output: [0.1, 0.2, 0.3, 0.4, ... ]"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Attribute.html",
        "description": "Code example from Blender API page: bpy.types.Attribute.html",
        "code": "import numpy as np\n\nradii = curves.attributes[\"radius\"]\n# Write a radius with a value of 0.5 to the first point.\nradii.data[0].value = 0.5\nprint(radii.data[0].value)\n# Output: 0.5\n\nnum_points = attributes.domain_size('POINT')\n# Generate random radii with values between 0.001 and 0.05 using numpy.\nnew_radii = np.random.uniform(0.001, 0.05, num_points)\n# Write the new radii to the radius attribute.\nradii.data.foreach_set('value', new_radii)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Attribute.html",
        "description": "Code example from Blender API page: bpy.types.Attribute.html",
        "code": "num_points = attributes.domain_size('POINT')\npositions = curves.attributes['position']\n# Here, we're using a numpy array with shape (num_points, 3) so that each\n# element is a 3d vector.\npositions_data = np.zeros((num_points, 3), dtype=np.float32)\n# The `np.ravel` function will pass the `positions_data` as a flat array\n# without changing the original shape.\npositions.data.foreach_get('vector', np.ravel(positions_data))\nprint(positions_data)\n# Output: [[0.1, 0.2, 0.3], [0.4, 0.5, 0.6], ...]"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.app.handlers.html",
        "description": "Code example from Blender API page: bpy.app.handlers.html",
        "code": "import bpy\n\n\ndef my_handler(scene):\n    print(\"Frame Change\", scene.frame_current)\n\n\nbpy.app.handlers.frame_change_pre.append(my_handler)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.app.handlers.html",
        "description": "Code example from Blender API page: bpy.app.handlers.html",
        "code": "import bpy\nfrom bpy.app.handlers import persistent\n\n\n@persistent\ndef load_handler(dummy):\n    print(\"Load Handler:\", bpy.data.filepath)\n\n\nbpy.app.handlers.load_post.append(load_handler)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.app.handlers.html",
        "description": "Code example from Blender API page: bpy.app.handlers.html",
        "code": "def frame_change_pre(scene):\n    # A triangle that shifts in the z direction.\n    zshift = scene.frame_current * 0.1\n    vertices = [(-1, -1, zshift), (1, -1, zshift), (0, 1, zshift)]\n    triangles = [(0, 1, 2)]\n\n    object = bpy.data.objects[\"The Object\"]\n    object.data.clear_geometry()\n    object.data.from_pydata(vertices, [], triangles)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.ops.html",
        "description": "Code example from Blender API page: bpy.ops.html",
        "code": "bpy.ops.test.operator(execution_context, undo)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.ops.html",
        "description": "Code example from Blender API page: bpy.ops.html",
        "code": "import bpy\n\n# Calling an operator.\nbpy.ops.mesh.subdivide(number_cuts=3, smoothness=0.5)\n\n\n# Check poll() to avoid exception.\nif bpy.ops.object.mode_set.poll():\n    bpy.ops.object.mode_set(mode='EDIT')"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.ops.html",
        "description": "Code example from Blender API page: bpy.ops.html",
        "code": "# Remove all objects in scene rather than the selected ones.\nimport bpy\nfrom bpy import context\ncontext_override = context.copy()\ncontext_override[\"selected_objects\"] = list(context.scene.objects)\nwith context.temp_override(**context_override):\n    bpy.ops.object.delete()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.ops.html",
        "description": "Code example from Blender API page: bpy.ops.html",
        "code": "# Collection add popup.\nimport bpy\nbpy.ops.object.collection_instance_add('INVOKE_DEFAULT')"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.ops.html",
        "description": "Code example from Blender API page: bpy.ops.html",
        "code": "# Maximize 3d view in all windows.\nimport bpy\nfrom bpy import context\n\nfor window in context.window_manager.windows:\n    screen = window.screen\n    for area in screen.areas:\n        if area.type == 'VIEW_3D':\n            with context.temp_override(window=window, area=area):\n                bpy.ops.screen.screen_full_area()\n            break"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.PoseBone.html",
        "description": "Code example from Blender API page: bpy.types.PoseBone.html",
        "code": "def bbone_deform_matrix(pose_bone, point):\n    index, blend_next = pose_bone.bbone_segment_index(point)\n\n    rest1 = pose_bone.bbone_segment_matrix(index, rest=True)\n    pose1 = pose_bone.bbone_segment_matrix(index, rest=False)\n    deform1 = pose1 @ rest1.inverted()\n\n    # `bbone_segment_index` ensures that index + 1 is always valid\n    rest2 = pose_bone.bbone_segment_matrix(index + 1, rest=True)\n    pose2 = pose_bone.bbone_segment_matrix(index + 1, rest=False)\n    deform2 = pose2 @ rest2.inverted()\n\n    deform = deform1 * (1 - blend_next) + deform2 * blend_next\n\n    return pose_bone.matrix @ deform @ pose_bone.bone.matrix_local.inverted()\n\n\n# Armature modifier deforming vertices:\nmesh = bpy.data.objects[\"Mesh\"]\npose_bone = bpy.data.objects[\"Armature\"].pose.bones[\"Bone\"]\n\nfor vertex in mesh.data.vertices:\n    vertex.co = bbone_deform_matrix(pose_bone, vertex.co) @ vertex.co\n\n# Armature constraint modifying an object transform:\nempty = bpy.data.objects[\"Empty\"]\nmatrix = empty.matrix_world\n\nempty.matrix_world = bbone_deform_matrix(pose_bone, matrix.translation) @ matrix"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Bone.html",
        "description": "Code example from Blender API page: bpy.types.Bone.html",
        "code": "def set_pose_matrices(obj, matrix_map):\n    \"Assign pose space matrices of all bones at once, ignoring constraints.\"\n\n    def rec(pbone, parent_matrix):\n        if pbone.name in matrix_map:\n            matrix = matrix_map[pbone.name]\n\n            # # Instead of:\n            # pbone.matrix = matrix\n            # bpy.context.view_layer.update()\n\n            # Compute and assign local matrix, using the new parent matrix.\n            if pbone.parent:\n                pbone.matrix_basis = pbone.bone.convert_local_to_pose(\n                    matrix,\n                    pbone.bone.matrix_local,\n                    parent_matrix=parent_matrix,\n                    parent_matrix_local=pbone.parent.bone.matrix_local,\n                    invert=True\n                )\n            else:\n                pbone.matrix_basis = pbone.bone.convert_local_to_pose(\n                    matrix,\n                    pbone.bone.matrix_local,\n                    invert=True\n                )\n        else:\n            # Compute the updated pose matrix from local and new parent matrix.\n            if pbone.parent:\n                matrix = pbone.bone.convert_local_to_pose(\n                    pbone.matrix_basis,\n                    pbone.bone.matrix_local,\n                    parent_matrix=parent_matrix,\n                    parent_matrix_local=pbone.parent.bone.matrix_local,\n                )\n            else:\n                matrix = pbone.bone.convert_local_to_pose(\n                    pbone.matrix_basis,\n                    pbone.bone.matrix_local,\n                )\n\n        # Recursively process children, passing the new matrix through.\n        for child in pbone.children:\n            rec(child, matrix)\n\n    # Scan all bone trees from their roots.\n    for pbone in obj.pose.bones:\n        if not pbone.parent:\n            rec(pbone, None)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.bpy_struct.html",
        "description": "Code example from Blender API page: bpy.types.bpy_struct.html",
        "code": "import bpy\n\nobj = bpy.context.object\n\n# Set the keyframe at frame 1.\nobj.location = (3.0, 4.0, 10.0)\nobj.keyframe_insert(data_path=\"location\", frame=1)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.bpy_struct.html",
        "description": "Code example from Blender API page: bpy.types.bpy_struct.html",
        "code": "import bpy\nfrom bpy.props import (\n    FloatProperty,\n    PointerProperty,\n)\n\n\n# Define a nested property.\nclass MyPropGroup(bpy.types.PropertyGroup):\n    nested: FloatProperty(name=\"Nested\", default=0.0)\n\n\n# Register it so its available for all bones.\nbpy.utils.register_class(MyPropGroup)\nbpy.types.Bone.my_prop = PointerProperty(\n    type=MyPropGroup,\n    name=\"MyProp\",\n)\n\n# Get a bone.\nobj = bpy.data.objects[\"Armature\"]\narm = obj.data\n\n# Set the keyframe at frame 1.\narm.bones[\"Bone\"].my_prop.nested = 10\narm.keyframe_insert(\n    data_path='bones[\"Bone\"].my_prop.nested',\n    frame=1,\n    group=\"Nested Group\",\n)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.app.timers.html",
        "description": "Code example from Blender API page: bpy.app.timers.html",
        "code": "import bpy\n\n\ndef in_5_seconds():\n    print(\"Hello World\")\n\n\nbpy.app.timers.register(in_5_seconds, first_interval=5)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.app.timers.html",
        "description": "Code example from Blender API page: bpy.app.timers.html",
        "code": "import bpy\n\n\ndef every_2_seconds():\n    print(\"Hello World\")\n    return 2.0\n\n\nbpy.app.timers.register(every_2_seconds)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.app.timers.html",
        "description": "Code example from Blender API page: bpy.app.timers.html",
        "code": "import bpy\n\ncounter = 0\n\n\ndef run_10_times():\n    global counter\n    counter += 1\n    print(counter)\n    if counter == 10:\n        return None\n    return 0.1\n\n\nbpy.app.timers.register(run_10_times)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.app.timers.html",
        "description": "Code example from Blender API page: bpy.app.timers.html",
        "code": "import bpy\nimport functools\n\n\ndef print_message(message):\n    print(\"Message:\", message)\n\n\nbpy.app.timers.register(functools.partial(print_message, \"Hello\"), first_interval=2.0)\nbpy.app.timers.register(functools.partial(print_message, \"World\"), first_interval=3.0)"
    },
    {
        "source": "https://docs.blender.org/api/current/gpu.types.html",
        "description": "Code example from Blender API page: gpu.types.html",
        "code": "\"\"\"void main() {\n   int2 index = int2(gl_GlobalInvocationID.xy);\n   vec4 color = vec4(0.0, 0.0, 0.0, 1.0);\n   imageStore(img_output, index, color);\n}\"\"\""
    },
    {
        "source": "https://docs.blender.org/api/current/gpu.types.html",
        "description": "Code example from Blender API page: gpu.types.html",
        "code": "#define name value"
    },
    {
        "source": "https://docs.blender.org/api/current/gpu.types.html",
        "description": "Code example from Blender API page: gpu.types.html",
        "code": "\"void main {fragColor = vec4(0.0, 0.0, 0.0, 1.0);}\""
    },
    {
        "source": "https://docs.blender.org/api/current/gpu.types.html",
        "description": "Code example from Blender API page: gpu.types.html",
        "code": "\"struct MyType {int foo; float bar;};\""
    },
    {
        "source": "https://docs.blender.org/api/current/gpu.types.html",
        "description": "Code example from Blender API page: gpu.types.html",
        "code": "\"void main {gl_Position = vec4(pos, 1.0);}\""
    },
    {
        "source": "https://docs.blender.org/api/current/blf.html",
        "description": "Code example from Blender API page: blf.html",
        "code": "# Import stand alone modules.\nimport blf\nimport bpy\n\nfont_info = {\n    \"font_id\": 0,\n    \"handler\": None,\n}\n\n\ndef init():\n    \"\"\"init function - runs once\"\"\"\n    import os\n    # Create a new font object, use external TTF file.\n    font_path = bpy.path.abspath('//Zeyada.ttf')\n    # Store the font index - to use later.\n    if os.path.exists(font_path):\n        font_info[\"font_id\"] = blf.load(font_path)\n    else:\n        # Default font.\n        font_info[\"font_id\"] = 0\n\n    # Set the font drawing routine to run every frame.\n    font_info[\"handler\"] = bpy.types.SpaceView3D.draw_handler_add(\n        draw_callback_px, (None, None), 'WINDOW', 'POST_PIXEL')\n\n\ndef draw_callback_px(self, context):\n    \"\"\"Draw on the viewports\"\"\"\n    # BLF drawing routine.\n    font_id = font_info[\"font_id\"]\n    blf.position(font_id, 2, 80, 0)\n    blf.size(font_id, 50.0)\n    blf.draw(font_id, \"Hello World\")\n\n\nif __name__ == '__main__':\n    init()"
    },
    {
        "source": "https://docs.blender.org/api/current/blf.html",
        "description": "Code example from Blender API page: blf.html",
        "code": "import blf\nimport imbuf\n\nimage_size = 512, 512\nfont_size = 20\n\nibuf = imbuf.new(image_size)\n\nfont_id = blf.load(\"/path/to/font.ttf\")\n\nblf.color(font_id, 1.0, 1.0, 1.0, 1.0)\nblf.size(font_id, font_size)\nblf.position(font_id, 0, image_size[0] - font_size, 0)\n\nblf.enable(font_id, blf.WORD_WRAP)\nblf.word_wrap(font_id, image_size[0])\n\nwith blf.bind_imbuf(font_id, ibuf, display_name=\"sRGB\"):\n    blf.draw_buffer(font_id, \"Lots of wrapped text. \" * 50)\n\nimbuf.write(ibuf, filepath=\"/path/to/image.png\")"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Depsgraph.html",
        "description": "Code example from Blender API page: bpy.types.Depsgraph.html",
        "code": "import bpy\n\n\nclass OBJECT_OT_evaluated_example(bpy.types.Operator):\n    \"\"\"Access evaluated object state and do something with it\"\"\"\n    bl_label = \"DEG Access Evaluated Object\"\n    bl_idname = \"object.evaluated_example\"\n\n    def execute(self, context):\n        # This is an original object. Its data does not have any modifiers applied.\n        obj = context.object\n        if obj is None or obj.type != 'MESH':\n            self.report({'INFO'}, \"No active mesh object to get info from\")\n            return {'CANCELLED'}\n        # Evaluated object exists within a specific dependency graph.\n        # We will request evaluated object from the dependency graph which corresponds to the\n        # current scene and view layer.\n        #\n        # NOTE: This call ensure the dependency graph is fully evaluated. This might be expensive\n        # if changes were made to the scene, but is needed to ensure no dangling or incorrect\n        # pointers are exposed.\n        depsgraph = context.evaluated_depsgraph_get()\n        # Actually request evaluated object.\n        #\n        # This object has animation and drivers applied on it, together with constraints and\n        # modifiers.\n        #\n        # For mesh objects the object.data will be a mesh with all modifiers applied.\n        # This means that in access to vertices or faces after modifier stack happens via fields of\n        # object_eval.object.\n        #\n        # For other types of objects the object_eval.data does not have modifiers applied on it,\n        # but has animation applied.\n        #\n        # NOTE: All ID types have `evaluated_get()`, including materials, node trees, worlds.\n        object_eval = obj.evaluated_get(depsgraph)\n        mesh_eval = object_eval.data\n        self.report({'INFO'}, f\"Number of evaluated vertices: {len(mesh_eval.vertices)}\")\n        return {'FINISHED'}\n\n\ndef register():\n    bpy.utils.register_class(OBJECT_OT_evaluated_example)\n\n\ndef unregister():\n    bpy.utils.unregister_class(OBJECT_OT_evaluated_example)\n\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Depsgraph.html",
        "description": "Code example from Blender API page: bpy.types.Depsgraph.html",
        "code": "import bpy\n\n\nclass OBJECT_OT_original_example(bpy.types.Operator):\n    \"\"\"Access original object and do something with it\"\"\"\n    bl_label = \"DEG Access Original Object\"\n    bl_idname = \"object.original_example\"\n\n    def check_object_selected(self, object_eval):\n        # Selection depends on a context and is only valid for original objects. This means we need\n        # to request the original object from the known evaluated one.\n        #\n        # NOTE: All ID types have an `original` field.\n        obj = object_eval.original\n        return obj.select_get()\n\n    def execute(self, context):\n        # NOTE: It seems redundant to iterate over original objects to request evaluated ones\n        # just to get original back. But we want to keep example as short as possible, but in real\n        # world there are cases when evaluated object is coming from a more meaningful source.\n        depsgraph = context.evaluated_depsgraph_get()\n        for obj in context.editable_objects:\n            object_eval = obj.evaluated_get(depsgraph)\n            if self.check_object_selected(object_eval):\n                self.report({'INFO'}, f\"Object is selected: {object_eval.name}\")\n        return {'FINISHED'}\n\n\ndef register():\n    bpy.utils.register_class(OBJECT_OT_original_example)\n\n\ndef unregister():\n    bpy.utils.unregister_class(OBJECT_OT_original_example)\n\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Depsgraph.html",
        "description": "Code example from Blender API page: bpy.types.Depsgraph.html",
        "code": "import bpy\n\n\nclass OBJECT_OT_object_instances(bpy.types.Operator):\n    \"\"\"Access original object and do something with it\"\"\"\n    bl_label = \"DEG Iterate Object Instances\"\n    bl_idname = \"object.object_instances\"\n\n    def execute(self, context):\n        depsgraph = context.evaluated_depsgraph_get()\n        for object_instance in depsgraph.object_instances:\n            # This is an object which is being instanced.\n            obj = object_instance.object\n            # `is_instance` denotes whether the object is coming from instances (as an opposite of\n            # being an emitting object. )\n            if not object_instance.is_instance:\n                print(f\"Object {obj.name} at {object_instance.matrix_world}\")\n            else:\n                # Instanced will additionally have fields like uv, random_id and others which are\n                # specific for instances. See Python API for DepsgraphObjectInstance for details,\n                print(f\"Instance of {obj.name} at {object_instance.matrix_world}\")\n        return {'FINISHED'}\n\n\ndef register():\n    bpy.utils.register_class(OBJECT_OT_object_instances)\n\n\ndef unregister():\n    bpy.utils.unregister_class(OBJECT_OT_object_instances)\n\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Depsgraph.html",
        "description": "Code example from Blender API page: bpy.types.Depsgraph.html",
        "code": "import bpy\n\n\nclass OBJECT_OT_object_to_mesh(bpy.types.Operator):\n    \"\"\"Convert selected object to mesh and show number of vertices\"\"\"\n    bl_label = \"DEG Object to Mesh\"\n    bl_idname = \"object.object_to_mesh\"\n\n    def execute(self, context):\n        # Access input original object.\n        obj = context.object\n        if obj is None:\n            self.report({'INFO'}, \"No active mesh object to convert to mesh\")\n            return {'CANCELLED'}\n        # Avoid annoying None checks later on.\n        if obj.type not in {'MESH', 'CURVE', 'SURFACE', 'FONT', 'META'}:\n            self.report({'INFO'}, \"Object cannot be converted to mesh\")\n            return {'CANCELLED'}\n        depsgraph = context.evaluated_depsgraph_get()\n        # Invoke to_mesh() for original object.\n        mesh_from_orig = obj.to_mesh()\n        self.report({'INFO'}, f\"{len(mesh_from_orig.vertices)} in new mesh without modifiers.\")\n        # Remove temporary mesh.\n        obj.to_mesh_clear()\n        # Invoke to_mesh() for evaluated object.\n        object_eval = obj.evaluated_get(depsgraph)\n        mesh_from_eval = object_eval.to_mesh()\n        self.report({'INFO'}, f\"{len(mesh_from_eval.vertices)} in new mesh with modifiers.\")\n        # Remove temporary mesh.\n        object_eval.to_mesh_clear()\n        return {'FINISHED'}\n\n\ndef register():\n    bpy.utils.register_class(OBJECT_OT_object_to_mesh)\n\n\ndef unregister():\n    bpy.utils.unregister_class(OBJECT_OT_object_to_mesh)\n\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Depsgraph.html",
        "description": "Code example from Blender API page: bpy.types.Depsgraph.html",
        "code": "import bpy\n\n\nclass OBJECT_OT_mesh_from_object(bpy.types.Operator):\n    \"\"\"Convert selected object to mesh and show number of vertices\"\"\"\n    bl_label = \"DEG Mesh From Object\"\n    bl_idname = \"object.mesh_from_object\"\n\n    def execute(self, context):\n        # Access input original object.\n        obj = context.object\n        if obj is None:\n            self.report({'INFO'}, \"No active mesh object to convert to mesh\")\n            return {'CANCELLED'}\n        # Avoid annoying None checks later on.\n        if obj.type not in {'MESH', 'CURVE', 'SURFACE', 'FONT', 'META'}:\n            self.report({'INFO'}, \"Object cannot be converted to mesh\")\n            return {'CANCELLED'}\n        depsgraph = context.evaluated_depsgraph_get()\n        object_eval = obj.evaluated_get(depsgraph)\n        mesh_from_eval = bpy.data.meshes.new_from_object(object_eval)\n        self.report({'INFO'}, f\"{len(mesh_from_eval.vertices)} in new mesh, and is ready for use!\")\n        return {'FINISHED'}\n\n\ndef register():\n    bpy.utils.register_class(OBJECT_OT_mesh_from_object)\n\n\ndef unregister():\n    bpy.utils.unregister_class(OBJECT_OT_mesh_from_object)\n\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Depsgraph.html",
        "description": "Code example from Blender API page: bpy.types.Depsgraph.html",
        "code": "import bpy\n\n\nclass OBJECT_OT_simple_exporter(bpy.types.Operator):\n    \"\"\"Simple (fake) exporter of selected objects\"\"\"\n    bl_label = \"DEG Export Selected\"\n    bl_idname = \"object.simple_exporter\"\n\n    apply_modifiers: bpy.props.BoolProperty(name=\"Apply Modifiers\")\n\n    def execute(self, context):\n        depsgraph = context.evaluated_depsgraph_get()\n        for object_instance in depsgraph.object_instances:\n            if not self.is_object_instance_from_selected(object_instance):\n                # We only export selected objects.\n                continue\n            # NOTE: This will create a mesh for every instance, which is not ideal at all. In\n            # reality destination format will support some sort of instancing mechanism, so the\n            # code here will simply say \"instance this object at object_instance.matrix_world\".\n            mesh = self.create_mesh_for_object_instance(object_instance)\n            if mesh is None:\n                # Happens for non-geometry objects.\n                continue\n            print(f\"Exporting mesh with {len(mesh.vertices)} vertices \"\n                  f\"at {object_instance.matrix_world}\")\n\n            self.clear_mesh_for_object_instance(object_instance)\n\n        return {'FINISHED'}\n\n    def is_object_instance_from_selected(self, object_instance):\n        # For instanced objects we check selection of their instancer (more accurately: check\n        # selection status of the original object corresponding to the instancer).\n        if object_instance.parent:\n            return object_instance.parent.original.select_get()\n        # For non-instanced objects we check selection state of the original object.\n        return object_instance.object.original.select_get()\n\n    def create_mesh_for_object_instance(self, object_instance):\n        if self.apply_modifiers:\n            return object_instance.object.to_mesh()\n        else:\n            return object_instance.object.original.to_mesh()\n\n    def clear_mesh_for_object_instance(self, object_instance):\n        if self.apply_modifiers:\n            return object_instance.object.to_mesh_clear()\n        else:\n            return object_instance.object.original.to_mesh_clear()\n\n\ndef register():\n    bpy.utils.register_class(OBJECT_OT_simple_exporter)\n\n\ndef unregister():\n    bpy.utils.unregister_class(OBJECT_OT_simple_exporter)\n\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Depsgraph.html",
        "description": "Code example from Blender API page: bpy.types.Depsgraph.html",
        "code": "import bpy\n\n\nclass OBJECT_OT_object_to_curve(bpy.types.Operator):\n    \"\"\"Convert selected object to curve and show number of splines\"\"\"\n    bl_label = \"DEG Object to Curve\"\n    bl_idname = \"object.object_to_curve\"\n\n    def execute(self, context):\n        # Access input original object.\n        obj = context.object\n        if obj is None:\n            self.report({'INFO'}, \"No active object to convert to curve\")\n            return {'CANCELLED'}\n        if obj.type not in {'CURVE', 'FONT'}:\n            self.report({'INFO'}, \"Object cannot be converted to curve\")\n            return {'CANCELLED'}\n        depsgraph = context.evaluated_depsgraph_get()\n        # Invoke to_curve() without applying modifiers.\n        curve_without_modifiers = obj.to_curve(depsgraph)\n        self.report({'INFO'}, f\"{len(curve_without_modifiers.splines)} splines in a new curve without modifiers.\")\n        # Remove temporary curve.\n        obj.to_curve_clear()\n        # Invoke to_curve() with applying modifiers.\n        curve_with_modifiers = obj.to_curve(depsgraph, apply_modifiers=True)\n        self.report({'INFO'}, f\"{len(curve_with_modifiers.splines)} splines in new curve with modifiers.\")\n        # Remove temporary curve.\n        obj.to_curve_clear()\n        return {'FINISHED'}\n\n\ndef register():\n    bpy.utils.register_class(OBJECT_OT_object_to_curve)\n\n\ndef unregister():\n    bpy.utils.unregister_class(OBJECT_OT_object_to_curve)\n\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/bmesh.html",
        "description": "Code example from Blender API page: bmesh.html",
        "code": "# This example assumes we have a mesh object selected\n\nimport bpy\nimport bmesh\n\n# Get the active mesh\nme = bpy.context.object.data\n\n\n# Get a BMesh representation\nbm = bmesh.new()   # create an empty BMesh\nbm.from_mesh(me)   # fill it in from a Mesh\n\n\n# Modify the BMesh, can do anything here...\nfor v in bm.verts:\n    v.co.x += 1.0\n\n\n# Finish up, write the bmesh back to the mesh\nbm.to_mesh(me)\nbm.free()  # free and prevent further access"
    },
    {
        "source": "https://docs.blender.org/api/current/bmesh.html",
        "description": "Code example from Blender API page: bmesh.html",
        "code": "uv_lay = bm.loops.layers.uv.active\n\nfor face in bm.faces:\n    for loop in face.loops:\n        uv = loop[uv_lay].uv\n        print(\"Loop UV: %f, %f\" % uv[:])\n        vert = loop.vert\n        print(\"Loop Vert: (%f,%f,%f)\" % vert.co[:])"
    },
    {
        "source": "https://docs.blender.org/api/current/bmesh.html",
        "description": "Code example from Blender API page: bmesh.html",
        "code": "shape_lay = bm.verts.layers.shape[\"Key.001\"]\n\nfor vert in bm.verts:\n    shape = vert[shape_lay]\n    print(\"Vert Shape: %f, %f, %f\" % (shape.x, shape.y, shape.z))"
    },
    {
        "source": "https://docs.blender.org/api/current/bmesh.html",
        "description": "Code example from Blender API page: bmesh.html",
        "code": "# In this example the active vertex group index is used,\n# this is stored in the object, not the `BMesh`.\ngroup_index = obj.vertex_groups.active_index\n\n# Only ever one deform weight layer.\ndvert_lay = bm.verts.layers.deform.active\n\nfor vert in bm.verts:\n    dvert = vert[dvert_lay]\n\n    if group_index in dvert:\n        print(\"Weight %f\" % dvert[group_index])\n    else:\n        print(\"Setting Weight\")\n        dvert[group_index] = 0.5"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_internal_data_and_python_objects.html",
        "description": "Code example from Blender API page: info_gotchas_internal_data_and_python_objects.html",
        "code": "bpy.data.meshes.new(name=meshid)\n\n# Normally some code, function calls, etc.\nbpy.data.meshes[meshid]"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_internal_data_and_python_objects.html",
        "description": "Code example from Blender API page: info_gotchas_internal_data_and_python_objects.html",
        "code": "obj.name = objname\n\n# Normally some code, function calls, etc.\nobj = bpy.data.meshes[objname]"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_internal_data_and_python_objects.html",
        "description": "Code example from Blender API page: info_gotchas_internal_data_and_python_objects.html",
        "code": "# Typically declared in the main body of the function.\nmesh_name_mapping = {}\n\nmesh = bpy.data.meshes.new(name=meshid)\nmesh_name_mapping[meshid] = mesh\n\n# Normally some code, or function calls, etc.\n\n# Use own dictionary rather than `bpy.data`.\nmesh = mesh_name_mapping[meshid]"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_internal_data_and_python_objects.html",
        "description": "Code example from Blender API page: info_gotchas_internal_data_and_python_objects.html",
        "code": "# Typical name lookup, could be local or library.\nobj = bpy.data.objects[\"my_obj\"]\n\n# Library object name lookup using a pair,\n# where the second argument is the library path matching bpy.types.Library.filepath.\nobj = bpy.data.objects[\"my_obj\", \"//my_lib.blend\"]\n\n# Local object name look up using a pair,\n# where the second argument excludes library data from being returned.\nobj = bpy.data.objects[\"my_obj\", None]\n\n# Both the examples above also works for `get`.\nobj = bpy.data.objects.get((\"my_obj\", None))"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_internal_data_and_python_objects.html",
        "description": "Code example from Blender API page: info_gotchas_internal_data_and_python_objects.html",
        "code": "bpy.context.object.location = 1, 2, 3\nbpy.context.view_layer.update()"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_internal_data_and_python_objects.html",
        "description": "Code example from Blender API page: info_gotchas_internal_data_and_python_objects.html",
        "code": "bpy.ops.wm.redraw_timer(type='DRAW_WIN_SWAP', iterations=1)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.USDHook.html",
        "description": "Code example from Blender API page: bpy.types.USDHook.html",
        "code": "bl_info = {\n    \"name\": \"USD Hook Example\",\n    \"blender\": (4, 4, 0),\n}\n\nimport bpy\nimport bpy.types\nimport textwrap\n\n# Make `pxr` module available, for running as `bpy` PIP package.\nbpy.utils.expose_bundled_modules()\n\nimport pxr.Gf as Gf\nimport pxr.Sdf as Sdf\nimport pxr.Usd as Usd\nimport pxr.UsdShade as UsdShade\n\n\nclass USDHookExample(bpy.types.USDHook):\n    \"\"\"Example implementation of USD IO hooks\"\"\"\n    bl_idname = \"usd_hook_example\"\n    bl_label = \"Example\"\n\n    @staticmethod\n    def on_export(export_context):\n        \"\"\" Include the Blender filepath in the root layer custom data.\n        \"\"\"\n\n        stage = export_context.get_stage()\n\n        if stage is None:\n            return False\n        data = bpy.data\n        if data is None:\n            return False\n\n        # Set the custom data.\n        rootLayer = stage.GetRootLayer()\n        customData = rootLayer.customLayerData\n        customData[\"blenderFilepath\"] = data.filepath\n        rootLayer.customLayerData = customData\n\n        return True\n\n    @staticmethod\n    def on_material_export(export_context, bl_material, usd_material):\n        \"\"\" Create a simple MaterialX shader on the exported material.\n        \"\"\"\n\n        stage = export_context.get_stage()\n\n        # Create a MaterialX standard surface shader\n        mtl_path = usd_material.GetPrim().GetPath()\n        shader = UsdShade.Shader.Define(stage, mtl_path.AppendPath(\"mtlxstandard_surface\"))\n        shader.CreateIdAttr(\"ND_standard_surface_surfaceshader\")\n\n        # Connect the shader.  MaterialX materials use \"mtlx\" renderContext\n        usd_material.CreateSurfaceOutput(\"mtlx\").ConnectToSource(shader.ConnectableAPI(), \"out\")\n\n        # Set the color to the Blender material's viewport display color.\n        col = bl_material.diffuse_color\n        shader.CreateInput(\"base_color\", Sdf.ValueTypeNames.Color3f).Set(Gf.Vec3f(col[0], col[1], col[2]))\n\n        return True\n\n    @staticmethod\n    def on_import(import_context):\n        \"\"\" Create a text object to display the stage's custom data.\n        \"\"\"\n        stage = import_context.get_stage()\n\n        if stage is None:\n            return False\n\n        # Get the custom data.\n        rootLayer = stage.GetRootLayer()\n        customData = rootLayer.customLayerData\n\n        # Create a text object to display the stage path\n        # and custom data dictionary entries.\n\n        bpy.ops.object.text_add()\n        ob = bpy.context.view_layer.objects.active\n\n        if (ob is None) or (ob.data is None):\n            return False\n\n        ob.name = \"layer_data\"\n        ob.data.name = \"layer_data\"\n\n        # The stage root path is the first line.\n        text = rootLayer.realPath\n\n        # Append key/value strings, enforcing text wrapping.\n        for item in customData.items():\n            print(item)\n            text += '\\n'\n            line = str(item[0]) + ': ' + str(item[1])\n            text += textwrap.fill(line, width=80)\n\n        ob.data.body = text\n\n        return True\n\n    @staticmethod\n    def material_import_poll(import_context, usd_material):\n        \"\"\"\n        Return True if the given USD material can be converted.\n        Return False otherwise.\n        \"\"\"\n        # We can convert MaterialX.\n        surf_output = usd_material.GetSurfaceOutput(\"mtlx\")\n        return bool(surf_output)\n\n    @staticmethod\n    def on_material_import(import_context, bl_material, usd_material):\n        \"\"\"\n        Import a simple mtlx material.  Just handle the base_color input\n        of a ND_standard_surface_surfaceshader.\n        \"\"\"\n\n        # We must confirm that we can handle this material.\n        surf_output = usd_material.GetSurfaceOutput(\"mtlx\")\n        if not surf_output:\n            return False\n\n        if not surf_output.HasConnectedSource():\n            return False\n\n        # Get the connected surface output source.\n        source = surf_output.GetConnectedSource()\n        # Get the shader prim from the source\n        shader = UsdShade.Shader(source[0])\n        shader_id = shader.GetShaderId()\n        if shader_id != \"ND_standard_surface_surfaceshader\":\n            return False\n\n        color_attr = shader.GetInput(\"base_color\")\n        if color_attr is None:\n            return False\n\n        # Create the node tree\n        bl_material.use_nodes = True\n        node_tree = bl_material.node_tree\n        nodes = node_tree.nodes\n        bsdf = nodes.get(\"Principled BSDF\")\n        assert bsdf\n        bsdf_base_color_input = bsdf.inputs['Base Color']\n\n        # Try to set the default color value.\n        # Get the authored default value\n        color = color_attr.Get()\n\n        if color is None:\n            return False\n\n        bsdf_base_color_input.default_value = (color[0], color[1], color[2], 1)\n\n        return True\n\n\ndef register():\n    bpy.utils.register_class(USDHookExample)\n\n\ndef unregister():\n    bpy.utils.unregister_class(USDHookExample)\n\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.WindowManager.html",
        "description": "Code example from Blender API page: bpy.types.WindowManager.html",
        "code": "if self.options.is_invoke:\n    # The context may have changed since invoking the file selector.\n    if not self.poll(context):\n        self.report({'ERROR'}, \"Invalid context\")\n        return {'CANCELLED'}"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.WindowManager.html",
        "description": "Code example from Blender API page: bpy.types.WindowManager.html",
        "code": "import bpy\n\n\ndef draw(self, context):\n    self.layout.label(text=\"Hello World\")\n\n\nbpy.context.window_manager.popup_menu(draw, title=\"Greeting\", icon='INFO')"
    },
    {
        "source": "https://docs.blender.org/api/current/info_api_reference.html",
        "description": "Code example from Blender API page: info_api_reference.html",
        "code": "bpy.context.active_object.location"
    },
    {
        "source": "https://docs.blender.org/api/current/info_api_reference.html",
        "description": "Code example from Blender API page: info_api_reference.html",
        "code": "bpy.data.objects[\"Cube\"].location"
    },
    {
        "source": "https://docs.blender.org/api/current/info_api_reference.html",
        "description": "Code example from Blender API page: info_api_reference.html",
        "code": "# Access the number of samples for the Cycles render engine.\nbpy.context.scene.cycles.samples\n\n# Access to the current weight paint brush size.\nbpy.context.tool_settings.weight_paint.brush.size\n\n# Check if the window is full-screen.\nbpy.context.window.screen.show_fullscreen"
    },
    {
        "source": "https://docs.blender.org/api/current/info_api_reference.html",
        "description": "Code example from Blender API page: info_api_reference.html",
        "code": "bpy.context.active_object.modifiers[\"Subdivision\"].levels"
    },
    {
        "source": "https://docs.blender.org/api/current/info_api_reference.html",
        "description": "Code example from Blender API page: info_api_reference.html",
        "code": "bpy.context.active_object.modifiers[\"Subdivision\"].levels = 2"
    },
    {
        "source": "https://docs.blender.org/api/current/info_api_reference.html",
        "description": "Code example from Blender API page: info_api_reference.html",
        "code": "bpy.context.tool_settings.sculpt.brush.texture.contrast"
    },
    {
        "source": "https://docs.blender.org/api/current/info_api_reference.html",
        "description": "Code example from Blender API page: info_api_reference.html",
        "code": "bpy.data.textures[\"Texture\"].contrast"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Operator.html",
        "description": "Code example from Blender API page: bpy.types.Operator.html",
        "code": "import bpy\n\n\nclass HelloWorldOperator(bpy.types.Operator):\n    bl_idname = \"wm.hello_world\"\n    bl_label = \"Minimal Operator\"\n\n    def execute(self, context):\n        print(\"Hello World\")\n        return {'FINISHED'}\n\n\n# Only needed if you want to add into a dynamic menu.\ndef menu_func(self, context):\n    self.layout.operator(HelloWorldOperator.bl_idname, text=\"Hello World Operator\")\n\n\n# Register and add to the view menu (required to also use F3 search \"Hello World Operator\" for quick access).\nbpy.utils.register_class(HelloWorldOperator)\nbpy.types.VIEW3D_MT_view.append(menu_func)\n\n# Test call to the newly defined operator.\nbpy.ops.wm.hello_world()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Operator.html",
        "description": "Code example from Blender API page: bpy.types.Operator.html",
        "code": "import bpy\n\n\nclass DataEditOperator(bpy.types.Operator):\n    bl_idname = \"object.data_edit\"\n    bl_label = \"Data Editing Operator\"\n    # The default value is only 'REGISTER', 'UNDO' is mandatory when Blender data is modified\n    # (and does require 'REGISTER' as well).\n    bl_options = {'REGISTER', 'UNDO'}\n\n    def execute(self, context):\n        context.object.location.x += 1.0\n        return {'FINISHED'}\n\n\n# Only needed if you want to add into a dynamic menu.\ndef menu_func(self, context):\n    self.layout.operator(DataEditOperator.bl_idname, text=\"Blender Data Editing Operator\")\n\n\n# Register.\nbpy.utils.register_class(DataEditOperator)\nbpy.types.VIEW3D_MT_view.append(menu_func)\n\n# Test call to the newly defined operator.\nbpy.ops.object.data_edit()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Operator.html",
        "description": "Code example from Blender API page: bpy.types.Operator.html",
        "code": "import bpy\n\n\nclass SimpleMouseOperator(bpy.types.Operator):\n    \"\"\" This operator shows the mouse location,\n        this string is used for the tooltip and API docs\n    \"\"\"\n    bl_idname = \"wm.mouse_position\"\n    bl_label = \"Invoke Mouse Operator\"\n\n    x: bpy.props.IntProperty()\n    y: bpy.props.IntProperty()\n\n    def execute(self, context):\n        # Rather than printing, use the report function,\n        # this way the message appears in the header.\n        self.report({'INFO'}, \"Mouse coords are {:d} {:d}\".format(self.x, self.y))\n        return {'FINISHED'}\n\n    def invoke(self, context, event):\n        self.x = event.mouse_x\n        self.y = event.mouse_y\n        return self.execute(context)\n\n\n# Only needed if you want to add into a dynamic menu.\ndef menu_func(self, context):\n    self.layout.operator(SimpleMouseOperator.bl_idname, text=\"Simple Mouse Operator\")\n\n\n# Register and add to the view menu (required to also use F3 search \"Simple Mouse Operator\" for quick access).\nbpy.utils.register_class(SimpleMouseOperator)\nbpy.types.VIEW3D_MT_view.append(menu_func)\n\n# Test call to the newly defined operator.\n# Here we call the operator and invoke it,\n# meaning that the settings are taken from the mouse.\nbpy.ops.wm.mouse_position('INVOKE_DEFAULT')\n\n# Another test call, this time call execute() directly with pre-defined settings.\nbpy.ops.wm.mouse_position('EXEC_DEFAULT', x=20, y=66)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Operator.html",
        "description": "Code example from Blender API page: bpy.types.Operator.html",
        "code": "import bpy\n\n\nclass ExportSomeData(bpy.types.Operator):\n    \"\"\"Test exporter which just writes hello world\"\"\"\n    bl_idname = \"export.some_data\"\n    bl_label = \"Export Some Data\"\n\n    filepath: bpy.props.StringProperty(subtype=\"FILE_PATH\")\n\n    @classmethod\n    def poll(cls, context):\n        return context.object is not None\n\n    def execute(self, context):\n        file = open(self.filepath, 'w')\n        file.write(\"Hello World \" + context.object.name)\n        return {'FINISHED'}\n\n    def invoke(self, context, event):\n        context.window_manager.fileselect_add(self)\n        return {'RUNNING_MODAL'}\n\n\n# Only needed if you want to add into a dynamic menu.\ndef menu_func(self, context):\n    self.layout.operator_context = 'INVOKE_DEFAULT'\n    self.layout.operator(ExportSomeData.bl_idname, text=\"Text Export Operator\")\n\n\n# Register and add to the file selector (required to also use F3 search \"Text Export Operator\" for quick access).\nbpy.utils.register_class(ExportSomeData)\nbpy.types.TOPBAR_MT_file_export.append(menu_func)\n\n\n# Test call.\nbpy.ops.export.some_data('INVOKE_DEFAULT')"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Operator.html",
        "description": "Code example from Blender API page: bpy.types.Operator.html",
        "code": "import bpy\n\n\nclass DialogOperator(bpy.types.Operator):\n    bl_idname = \"object.dialog_operator\"\n    bl_label = \"Simple Dialog Operator\"\n\n    my_float: bpy.props.FloatProperty(name=\"Some Floating Point\")\n    my_bool: bpy.props.BoolProperty(name=\"Toggle Option\")\n    my_string: bpy.props.StringProperty(name=\"String Value\")\n\n    def execute(self, context):\n        message = \"Popup Values: {:f}, {:d}, '{:s}'\".format(\n            self.my_float, self.my_bool, self.my_string,\n        )\n        self.report({'INFO'}, message)\n        return {'FINISHED'}\n\n    def invoke(self, context, event):\n        wm = context.window_manager\n        return wm.invoke_props_dialog(self)\n\n\n# Only needed if you want to add into a dynamic menu.\ndef menu_func(self, context):\n    self.layout.operator(DialogOperator.bl_idname, text=\"Dialog Operator\")\n\n\n# Register and add to the object menu (required to also use F3 search \"Dialog Operator\" for quick access).\nbpy.utils.register_class(DialogOperator)\nbpy.types.VIEW3D_MT_object.append(menu_func)\n\n# Test call.\nbpy.ops.object.dialog_operator('INVOKE_DEFAULT')"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Operator.html",
        "description": "Code example from Blender API page: bpy.types.Operator.html",
        "code": "import bpy\n\n\nclass CustomDrawOperator(bpy.types.Operator):\n    bl_idname = \"object.custom_draw\"\n    bl_label = \"Simple Modal Operator\"\n\n    filepath: bpy.props.StringProperty(subtype=\"FILE_PATH\")\n\n    my_float: bpy.props.FloatProperty(name=\"Float\")\n    my_bool: bpy.props.BoolProperty(name=\"Toggle Option\")\n    my_string: bpy.props.StringProperty(name=\"String Value\")\n\n    def execute(self, context):\n        print(\"Test\", self)\n        return {'FINISHED'}\n\n    def invoke(self, context, event):\n        wm = context.window_manager\n        return wm.invoke_props_dialog(self)\n\n    def draw(self, context):\n        layout = self.layout\n        col = layout.column()\n        col.label(text=\"Custom Interface!\")\n\n        row = col.row()\n        row.prop(self, \"my_float\")\n        row.prop(self, \"my_bool\")\n\n        col.prop(self, \"my_string\")\n\n\n# Only needed if you want to add into a dynamic menu.\ndef menu_func(self, context):\n    self.layout.operator(CustomDrawOperator.bl_idname, text=\"Custom Draw Operator\")\n\n\n# Register and add to the object menu (required to also use F3 search \"Custom Draw Operator\" for quick access).\nbpy.utils.register_class(CustomDrawOperator)\nbpy.types.VIEW3D_MT_object.append(menu_func)\n\n# Test call.\nbpy.ops.object.custom_draw('INVOKE_DEFAULT')"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Operator.html",
        "description": "Code example from Blender API page: bpy.types.Operator.html",
        "code": "import bpy\n\n\nclass ModalOperator(bpy.types.Operator):\n    bl_idname = \"object.modal_operator\"\n    bl_label = \"Simple Modal Operator\"\n    bl_options = {'REGISTER', 'UNDO'}\n\n    def __init__(self, *args, **kwargs):\n        super().__init__(*args, **kwargs)\n        print(\"Start\")\n\n    def __del__(self):\n        print(\"End\")\n        super().__del__()\n\n    def execute(self, context):\n        context.object.location.x = self.value / 100.0\n        return {'FINISHED'}\n\n    def modal(self, context, event):\n        if event.type == 'MOUSEMOVE':  # Apply.\n            self.value = event.mouse_x\n            self.execute(context)\n        elif event.type == 'LEFTMOUSE':  # Confirm.\n            return {'FINISHED'}\n        elif event.type in {'RIGHTMOUSE', 'ESC'}:  # Cancel.\n            # Revert all changes that have been made\n            context.object.location.x = self.init_loc_x\n            return {'CANCELLED'}\n\n        return {'RUNNING_MODAL'}\n\n    def invoke(self, context, event):\n        self.init_loc_x = context.object.location.x\n        self.value = event.mouse_x\n        self.execute(context)\n\n        context.window_manager.modal_handler_add(self)\n        return {'RUNNING_MODAL'}\n\n\n# Only needed if you want to add into a dynamic menu.\ndef menu_func(self, context):\n    self.layout.operator(ModalOperator.bl_idname, text=\"Modal Operator\")\n\n\n# Register and add to the object menu (required to also use F3 search \"Modal Operator\" for quick access).\nbpy.utils.register_class(ModalOperator)\nbpy.types.VIEW3D_MT_object.append(menu_func)\n\n# Test call.\nbpy.ops.object.modal_operator('INVOKE_DEFAULT')"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Operator.html",
        "description": "Code example from Blender API page: bpy.types.Operator.html",
        "code": "import bpy\nfrom bpy.props import EnumProperty\n\n\nclass SearchEnumOperator(bpy.types.Operator):\n    bl_idname = \"object.search_enum_operator\"\n    bl_label = \"Search Enum Operator\"\n    bl_property = \"my_search\"\n\n    my_search: EnumProperty(\n        name=\"My Search\",\n        items=(\n            ('FOO', \"Foo\", \"\"),\n            ('BAR', \"Bar\", \"\"),\n            ('BAZ', \"Baz\", \"\"),\n        ),\n    )\n\n    def execute(self, context):\n        self.report({'INFO'}, \"Selected:\" + self.my_search)\n        return {'FINISHED'}\n\n    def invoke(self, context, event):\n        context.window_manager.invoke_search_popup(self)\n        return {'RUNNING_MODAL'}\n\n\n# Only needed if you want to add into a dynamic menu.\ndef menu_func(self, context):\n    self.layout.operator(SearchEnumOperator.bl_idname, text=\"Search Enum Operator\")\n\n\n# Register and add to the object menu (required to also use F3 search \"Search Enum Operator\" for quick access).\nbpy.utils.register_class(SearchEnumOperator)\nbpy.types.VIEW3D_MT_object.append(menu_func)\n\n# Test call.\nbpy.ops.object.search_enum_operator('INVOKE_DEFAULT')"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.app.html",
        "description": "Code example from Blender API page: bpy.app.html",
        "code": "import os\nimport bpy\nblend_dir = os.path.normalize(os.path.join(__file__, \"..\", \"..\"))\nbpy.utils.execfile(os.path.join(blend_dir, \"driver_namespace.py\"))"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_threading.html",
        "description": "Code example from Blender API page: info_gotchas_threading.html",
        "code": "import threading\nimport requests\n\nurls = [\n   \"http://localhost:8000/file-1.blend\",\n   \"http://localhost:8000/file-2.blend\",\n   \"http://localhost:8000/file-3.blend\",\n]\n\n\ndef download(url: str) -> None:\n   name = threading.current_thread().name\n   print(\"{}: Starting\".format(name))\n   response = requests.get(url)\n   print(\"{}: Request status code {}\".format(name, response.status_code))\n\n\nthreads = [\n   threading.Thread(\n      name=\"thread-{}\".format(index),\n      target=lambda: download(url),\n   )\n   for index, url in enumerate(urls)\n]\n\nprint(\"Starting threads...\")\nfor t in threads:\n   t.start()\nprint(\"Waiting for threads to finish...\")\nfor t in threads:\n   t.join()\nprint(\"Threads all done, now Blender can continue\")"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_threading.html",
        "description": "Code example from Blender API page: info_gotchas_threading.html",
        "code": "from threading import Timer\n\ndef my_timer():\n      t = Timer(0.1, my_timer)\n      t.setDaemon(True)\n      t.start()\n      print(\"Running...\")\n\nmy_timer()"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_file_paths_and_encoding.html",
        "description": "Code example from Blender API page: info_gotchas_file_paths_and_encoding.html",
        "code": ">>> bpy.path.abspath(image.filepath)"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_file_paths_and_encoding.html",
        "description": "Code example from Blender API page: info_gotchas_file_paths_and_encoding.html",
        "code": ">>> bpy.path.abspath(image.filepath, library=image.library)"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_file_paths_and_encoding.html",
        "description": "Code example from Blender API page: info_gotchas_file_paths_and_encoding.html",
        "code": ">>> print(bpy.data.filepath)\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 10-21: ordinal not in range(128)"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_file_paths_and_encoding.html",
        "description": "Code example from Blender API page: info_gotchas_file_paths_and_encoding.html",
        "code": ">>> bpy.context.object.name = bpy.data.filepath\nTraceback (most recent call last):\n  File \"<blender_console>\", line 1, in <module>\nTypeError: bpy_struct: item.attr= val: Object.name expected a string type, not str"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_file_paths_and_encoding.html",
        "description": "Code example from Blender API page: info_gotchas_file_paths_and_encoding.html",
        "code": ">>> print(repr(bpy.data.filepath))"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_file_paths_and_encoding.html",
        "description": "Code example from Blender API page: info_gotchas_file_paths_and_encoding.html",
        "code": ">>> import os\n>>> filepath_bytes = os.fsencode(bpy.data.filepath)\n>>> filepath_utf8 = filepath_bytes.decode('utf-8', \"replace\")\n>>> bpy.context.object.name = filepath_utf8"
    },
    {
        "source": "https://docs.blender.org/api/current/mathutils.kdtree.html",
        "description": "Code example from Blender API page: mathutils.kdtree.html",
        "code": "import mathutils\n\n# Create a KD-tree from a mesh.\nfrom bpy import context\nobj = context.object\n\nmesh = obj.data\nsize = len(mesh.vertices)\nkd = mathutils.kdtree.KDTree(size)\n\nfor i, v in enumerate(mesh.vertices):\n    kd.insert(v.co, i)\n\nkd.balance()\n\n\n# Find the closest point to the center.\nco_find = (0.0, 0.0, 0.0)\nco, index, dist = kd.find(co_find)\nprint(\"Close to center:\", co, index, dist)\n\n# 3D cursor relative to the object data.\nco_find = obj.matrix_world.inverted() @ context.scene.cursor.location\n\n# Find the closest 10 points to the 3D cursor.\nprint(\"Close 10 points\")\nfor (co, index, dist) in kd.find_n(co_find, 10):\n    print(\"    \", co, index, dist)\n\n\n# Find points within a radius of the 3D cursor.\nprint(\"Close points within 0.5 distance\")\nfor (co, index, dist) in kd.find_range(co_find, 0.5):\n    print(\"    \", co, index, dist)"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_crashes.html",
        "description": "Code example from Blender API page: info_gotchas_crashes.html",
        "code": "class TestItems(bpy.types.PropertyGroup):\n    name: bpy.props.StringProperty()\n\nbpy.utils.register_class(TestItems)\nbpy.types.Scene.test_items = bpy.props.CollectionProperty(type=TestItems)\n\nfirst_item = bpy.context.scene.test_items.add()\nfor i in range(100):\n    bpy.context.scene.test_items.add()\n\n# This is likely to crash, as internal code may re-allocate\n# the whole container (the collection) memory at some point.\nfirst_item.name = \"foobar\""
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_crashes.html",
        "description": "Code example from Blender API page: info_gotchas_crashes.html",
        "code": "class TestItems(bpy.types.PropertyGroup):\n    name: bpy.props.StringProperty()\n\nbpy.utils.register_class(TestItems)\nbpy.types.Scene.test_items = bpy.props.CollectionProperty(type=TestItems)\n\nfirst_item = bpy.context.scene.test_items.add()\nfor i in range(100):\n    bpy.context.scene.test_items.add()\n\n# This is safe, we are getting again desired data *after*\n# all modifications to its container are done.\nfirst_item = bpy.context.scene.test_items[0]\nfirst_item.name = \"foobar\""
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_crashes.html",
        "description": "Code example from Blender API page: info_gotchas_crashes.html",
        "code": ">>> hash(bpy.context.object)\n-9223372036849950810\n>>> hash(bpy.context.object)\n-9223372036849950810"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_crashes.html",
        "description": "Code example from Blender API page: info_gotchas_crashes.html",
        "code": ">>> hash(bpy.context.object)\n-9223372036849951740"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_crashes.html",
        "description": "Code example from Blender API page: info_gotchas_crashes.html",
        "code": "mesh = bpy.context.active_object.data\npolygons = mesh.polygons\nbpy.ops.object.mode_set(mode='EDIT')\nbpy.ops.object.mode_set(mode='OBJECT')\n\n# This will crash!\nprint(polygons)"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_crashes.html",
        "description": "Code example from Blender API page: info_gotchas_crashes.html",
        "code": "mesh = bpy.context.active_object.data\npolygons = mesh.polygons\nbpy.ops.object.mode_set(mode='EDIT')\nbpy.ops.object.mode_set(mode='OBJECT')\n\n# Polygons have been re-allocated.\npolygons = mesh.polygons\nprint(polygons)"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_crashes.html",
        "description": "Code example from Blender API page: info_gotchas_crashes.html",
        "code": "bpy.ops.curve.primitive_bezier_curve_add()\npoint = bpy.context.object.data.splines[0].bezier_points[0]\nbpy.context.object.data.splines[0].bezier_points.add()\n\n# This will crash!\npoint.co = 1.0, 2.0, 3.0"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_crashes.html",
        "description": "Code example from Blender API page: info_gotchas_crashes.html",
        "code": "mesh = bpy.data.meshes.new(name=\"MyMesh\")\n# Normally the script would use the mesh here.\nbpy.data.meshes.remove(mesh)\nprint(mesh.name)  # <- Give an exception rather than crashing:\n\n# ReferenceError: StructRNA of type Mesh has been removed"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_crashes.html",
        "description": "Code example from Blender API page: info_gotchas_crashes.html",
        "code": "mesh = bpy.data.meshes.new(name=\"MyMesh\")\nvertices = mesh.vertices\nbpy.data.meshes.remove(mesh)\nprint(vertices)  # <- This may crash."
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_crashes.html",
        "description": "Code example from Blender API page: info_gotchas_crashes.html",
        "code": "# `all_objects` is an iterator. Using it directly while performing operations on its members that will update\n# the memory accessed by the `all_objects` iterator will lead to invalid memory accesses and crashes.\nfor object in bpy.data.collections[\"Collection\"].all_objects:\n     object.hide_viewport = True"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_crashes.html",
        "description": "Code example from Blender API page: info_gotchas_crashes.html",
        "code": "# `all_objects[:]` is an independent list generated from the iterator. As long as no objects are deleted,\n# its content will remain valid even if the data accessed by the `all_objects` iterator is modified.\nfor object in bpy.data.collections[\"Collection\"].all_objects[:]:\n     object.hide_viewport = True"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Object.html",
        "description": "Code example from Blender API page: bpy.types.Object.html",
        "code": "import bpy\n\nview_layer = bpy.context.view_layer\n\n# Create new light data-block.\nlight_data = bpy.data.lights.new(name=\"New Light\", type='POINT')\n\n# Create new object with our light data-block.\nlight_object = bpy.data.objects.new(name=\"New Light\", object_data=light_data)\n\n# Link light object to the active collection of current view layer,\n# so that it'll appear in the current scene.\nview_layer.active_layer_collection.collection.objects.link(light_object)\n\n# Place light to a specified location.\nlight_object.location = (5.0, 5.0, 5.0)\n\n# And finally select it and make it active.\nlight_object.select_set(True)\nview_layer.objects.active = light_object"
    },
    {
        "source": "https://docs.blender.org/api/current/info_tips_and_tricks.html",
        "description": "Code example from Blender API page: info_tips_and_tricks.html",
        "code": "filename = \"/full/path/to/myscript.py\"\nexec(compile(open(filename).read(), filename, 'exec'))"
    },
    {
        "source": "https://docs.blender.org/api/current/info_tips_and_tricks.html",
        "description": "Code example from Blender API page: info_tips_and_tricks.html",
        "code": "import bpy\nimport os\n\nfilename = os.path.join(os.path.dirname(bpy.data.filepath), \"myscript.py\")\nexec(compile(open(filename).read(), filename, 'exec'))"
    },
    {
        "source": "https://docs.blender.org/api/current/info_tips_and_tricks.html",
        "description": "Code example from Blender API page: info_tips_and_tricks.html",
        "code": "import myscript\nimport importlib\n\nimportlib.reload(myscript)\nmyscript.main()"
    },
    {
        "source": "https://docs.blender.org/api/current/info_tips_and_tricks.html",
        "description": "Code example from Blender API page: info_tips_and_tricks.html",
        "code": "import sys\nimport os\nimport bpy\n\nblend_dir = os.path.dirname(bpy.data.filepath)\nif blend_dir not in sys.path:\n   sys.path.append(blend_dir)\n\nimport myscript\nimport importlib\nimportlib.reload(myscript)\nmyscript.main()"
    },
    {
        "source": "https://docs.blender.org/api/current/info_tips_and_tricks.html",
        "description": "Code example from Blender API page: info_tips_and_tricks.html",
        "code": "blender --background --python myscript.py"
    },
    {
        "source": "https://docs.blender.org/api/current/info_tips_and_tricks.html",
        "description": "Code example from Blender API page: info_tips_and_tricks.html",
        "code": "blender myscene.blend --background --python myscript.py"
    },
    {
        "source": "https://docs.blender.org/api/current/info_tips_and_tricks.html",
        "description": "Code example from Blender API page: info_tips_and_tricks.html",
        "code": "PYTHONPATH=/usr/lib/python3.7 ./blender --python-use-system-env"
    },
    {
        "source": "https://docs.blender.org/api/current/info_tips_and_tricks.html",
        "description": "Code example from Blender API page: info_tips_and_tricks.html",
        "code": "import code\ncode.interact(local=locals())"
    },
    {
        "source": "https://docs.blender.org/api/current/info_tips_and_tricks.html",
        "description": "Code example from Blender API page: info_tips_and_tricks.html",
        "code": "import code\nnamespace = globals().copy()\nnamespace.update(locals())\ncode.interact(local=namespace)"
    },
    {
        "source": "https://docs.blender.org/api/current/info_tips_and_tricks.html",
        "description": "Code example from Blender API page: info_tips_and_tricks.html",
        "code": "__import__('code').interact(local=dict(globals(), **locals()))"
    },
    {
        "source": "https://docs.blender.org/api/current/info_tips_and_tricks.html",
        "description": "Code example from Blender API page: info_tips_and_tricks.html",
        "code": "import IPython\nIPython.embed()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.HydraRenderEngine.html",
        "description": "Code example from Blender API page: bpy.types.HydraRenderEngine.html",
        "code": "import bpy\n\n\nclass CustomHydraRenderEngine(bpy.types.HydraRenderEngine):\n    # Identifier and name in the user interface.\n    bl_idname = \"CUSTOM_HYDRA_RENDERER\"\n    bl_label = \"Custom Hydra Renderer\"\n\n    # Name of the render plugin.\n    bl_delegate_id = \"HdCustomRendererPlugin\"\n\n    # Use MaterialX instead of `UsdPreviewSurface` for materials.\n    bl_use_materialx = True\n\n    # Register path to plugin.\n    @classmethod\n    def register(cls):\n        # Make `pxr` module available, for running as `bpy` PIP package.\n        bpy.utils.expose_bundled_modules()\n\n        import pxr.Plug\n        pxr.Plug.Registry().RegisterPlugins(['/path/to/plugin'])\n\n    # Render settings that will be passed to the delegate.\n    def get_render_settings(self, engine_type):\n        return {\n            'myBoolean': True,\n            'myValue': 8,\n            'aovToken:Depth': \"depth\",\n        }\n\n    # RenderEngine methods for update, render and draw are implemented in\n    # HydraRenderEngine. Optionally extra work can be done before or after\n    # by implementing the methods like this.\n    def update(self, data, depsgraph):\n        super().update(data, depsgraph)\n        # Do extra work here.\n\n    def update_render_passes(self, scene, render_layer):\n        if render_layer.use_pass_z:\n            self.register_pass(scene, render_layer, 'Depth', 1, 'Z', 'VALUE')\n\n\n# Registration.\ndef register():\n    bpy.utils.register_class(CustomHydraRenderEngine)\n\n\ndef unregister():\n    bpy.utils.unregister_class(CustomHydraRenderEngine)\n\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.FileHandler.html",
        "description": "Code example from Blender API page: bpy.types.FileHandler.html",
        "code": "filepath: bpy.props.StringProperty(subtype='FILE_PATH', options={'SKIP_SAVE'})"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.FileHandler.html",
        "description": "Code example from Blender API page: bpy.types.FileHandler.html",
        "code": "import bpy\n\n\nclass CurveTextImport(bpy.types.Operator):\n    \"\"\"\n    Creates a text object from a text file.\n    \"\"\"\n    bl_idname = \"curve.text_import\"\n    bl_label = \"Import a text file as text object\"\n\n    # This Operator supports processing one `.txt` file at a time. The following file-path\n    # property must be defined.\n    filepath: bpy.props.StringProperty(subtype='FILE_PATH', options={'SKIP_SAVE'})\n\n    @classmethod\n    def poll(cls, context):\n        return (context.area and context.area.type == \"VIEW_3D\")\n\n    def execute(self, context):\n        # Direct calls to this Operator may use unsupported file-paths. Ensure the incoming\n        # file-path is one that is supported.\n        if not self.filepath or not self.filepath.endswith(\".txt\"):\n            return {'CANCELLED'}\n\n        # Create a Blender Text object from the contents of the provided file.\n        with open(self.filepath) as file:\n            text_curve = bpy.data.curves.new(type=\"FONT\", name=\"Text\")\n            text_curve.body = ''.join(file.readlines())\n            text_object = bpy.data.objects.new(name=\"Text\", object_data=text_curve)\n            bpy.context.scene.collection.objects.link(text_object)\n        return {'FINISHED'}\n\n    # By default the file handler invokes the operator with the file-path property set. If the\n    # operator also supports being invoked with no file-path set, and allows the user to pick from a\n    # file select window instead, the following logic can be used.\n    #\n    # Note: It is important to use `options={'SKIP_SAVE'}` when defining the file-path property to\n    # avoid prior values from being reused on subsequent calls.\n\n    def invoke(self, context, event):\n        if self.filepath:\n            return self.execute(context)\n        context.window_manager.fileselect_add(self)\n        return {'RUNNING_MODAL'}\n\n\n# Define a file handler that supports the following set of conditions:\n#  - Execute the `curve.text_import` operator\n#  - When `.txt` files are dropped in the 3D Viewport\nclass CURVE_FH_text_import(bpy.types.FileHandler):\n    bl_idname = \"CURVE_FH_text_import\"\n    bl_label = \"File handler for curve text object import\"\n    bl_import_operator = \"curve.text_import\"\n    bl_file_extensions = \".txt\"\n\n    @classmethod\n    def poll_drop(cls, context):\n        return (context.area and context.area.type == 'VIEW_3D')\n\n\nbpy.utils.register_class(CurveTextImport)\nbpy.utils.register_class(CURVE_FH_text_import)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.FileHandler.html",
        "description": "Code example from Blender API page: bpy.types.FileHandler.html",
        "code": "directory: StringProperty(subtype='DIR_PATH', options={'SKIP_SAVE', 'HIDDEN'})\nfiles: CollectionProperty(type=OperatorFileListElement, options={'SKIP_SAVE', 'HIDDEN'})"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.FileHandler.html",
        "description": "Code example from Blender API page: bpy.types.FileHandler.html",
        "code": "import bpy\nfrom bpy_extras.io_utils import ImportHelper\nfrom mathutils import Vector\n\n\nclass ShaderScriptImport(bpy.types.Operator, ImportHelper):\n    \"\"\"\n    Creates one or more Shader Script nodes from text files.\n    \"\"\"\n    bl_idname = \"shader.script_import\"\n    bl_label = \"Import a text file as a script node\"\n\n    # This Operator supports processing multiple `.txt` files at a time. The following properties\n    # must be defined.\n    directory: bpy.props.StringProperty(subtype='DIR_PATH', options={'SKIP_SAVE', 'HIDDEN'})\n    files: bpy.props.CollectionProperty(type=bpy.types.OperatorFileListElement, options={'SKIP_SAVE', 'HIDDEN'})\n\n    # Allow the user to choose whether the node's label is set or not\n    set_label: bpy.props.BoolProperty(name=\"Set Label\", default=False)\n\n    @classmethod\n    def poll(cls, context):\n        return (\n            context.region and context.region.type == 'WINDOW' and\n            context.area and context.area.ui_type == 'ShaderNodeTree' and\n            context.object and context.object.type == 'MESH' and\n            context.material\n        )\n\n    def execute(self, context):\n        # The directory property must be set.\n        if not self.directory:\n            return {'CANCELLED'}\n\n        x = 0.0\n        y = 0.0\n        for file in self.files:\n            # Direct calls to this Operator may use unsupported file-paths. Ensure the incoming\n            # files are ones that are supported.\n            if file.name.endswith(\".txt\"):\n                import os\n                filepath = os.path.join(self.directory, file.name)\n\n                node_tree = context.material.node_tree\n                text_node = node_tree.nodes.new(type=\"ShaderNodeScript\")\n                text_node.mode = 'EXTERNAL'\n                text_node.filepath = filepath\n                text_node.location = Vector((x, y))\n\n                # Set the node's title to the file name.\n                if self.set_label:\n                    text_node.label = file.name\n\n                x += 20.0\n                y -= 20.0\n\n        return {'FINISHED'}\n\n    # Use ImportHelper's invoke_popup() to handle the invocation so that this operator's properties\n    # are shown in a popup. This allows the user to configure additional settings on the operator\n    # like the `set_label` property. Consider having a draw() method on the operator in order to\n    # layout the properties in the UI appropriately.\n    #\n    # If filepath information is not provided the file select window will be invoked instead.\n\n    def invoke(self, context, event):\n        return self.invoke_popup(context)\n\n\n# Define a file handler that supports the following set of conditions:\n#  - Execute the `shader.script_import` operator\n#  - When `.txt` files are dropped in the Shader Editor\nclass SHADER_FH_script_import(bpy.types.FileHandler):\n    bl_idname = \"SHADER_FH_script_import\"\n    bl_label = \"File handler for shader script node import\"\n    bl_import_operator = \"shader.script_import\"\n    bl_file_extensions = \".txt\"\n\n    @classmethod\n    def poll_drop(cls, context):\n        return (\n            context.region and context.region.type == 'WINDOW' and\n            context.area and context.area.ui_type == 'ShaderNodeTree'\n        )\n\n\nbpy.utils.register_class(ShaderScriptImport)\nbpy.utils.register_class(SHADER_FH_script_import)"
    },
    {
        "source": "https://docs.blender.org/api/current/aud.html",
        "description": "Code example from Blender API page: aud.html",
        "code": "import aud\n\ndevice = aud.Device()\n# Load sound file (it can be a video file with audio).\nsound = aud.Sound('music.ogg')\n\n# Play the audio, this return a handle to control play/pause.\nhandle = device.play(sound)\n# If the audio is not too big and will be used often you can buffer it.\nsound_buffered = aud.Sound.cache(sound)\nhandle_buffered = device.play(sound_buffered)\n\n# Stop the sounds (otherwise they play until their ends).\nhandle.stop()\nhandle_buffered.stop()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.UIList.html",
        "description": "Code example from Blender API page: bpy.types.UIList.html",
        "code": "import bpy\n\n\nclass MATERIAL_UL_matslots_example(bpy.types.UIList):\n    # The draw_item function is called for each item of the collection that is visible in the list.\n    #   data is the RNA object containing the collection,\n    #   item is the current drawn item of the collection,\n    #   icon is the \"computed\" icon for the item (as an integer, because some objects like materials or textures\n    #   have custom icons ID, which are not available as enum items).\n    #   active_data is the RNA object containing the active property for the collection (i.e. integer pointing to the\n    #   active item of the collection).\n    #   active_propname is the name of the active property (use 'getattr(active_data, active_propname)').\n    #   index is index of the current item in the collection.\n    #   flt_flag is the result of the filtering process for this item.\n    #   Note: as index and flt_flag are optional arguments, you do not have to use/declare them here if you don't\n    #         need them.\n    def draw_item(self, context, layout, data, item, icon, active_data, active_propname):\n        ob = data\n        slot = item\n        ma = slot.material\n        # draw_item must handle the three layout types... Usually 'DEFAULT' and 'COMPACT' can share the same code.\n        if self.layout_type in {'DEFAULT', 'COMPACT'}:\n            # You should always start your row layout by a label (icon + text), or a non-embossed text field,\n            # this will also make the row easily selectable in the list! The later also enables ctrl-click rename.\n            # We use icon_value of label, as our given icon is an integer value, not an enum ID.\n            # Note \"data\" names should never be translated!\n            if ma:\n                layout.prop(ma, \"name\", text=\"\", emboss=False, icon_value=icon)\n            else:\n                layout.label(text=\"\", translate=False, icon_value=icon)\n        # 'GRID' layout type should be as compact as possible (typically a single icon!).\n        elif self.layout_type == 'GRID':\n            layout.alignment = 'CENTER'\n            layout.label(text=\"\", icon_value=icon)\n\n\n# And now we can use this list everywhere in Blender. Here is a small example panel.\nclass UIListPanelExample1(bpy.types.Panel):\n    \"\"\"Creates a Panel in the Object properties window\"\"\"\n    bl_label = \"UIList Example 1 Panel\"\n    bl_idname = \"OBJECT_PT_ui_list_example_1\"\n    bl_space_type = 'PROPERTIES'\n    bl_region_type = 'WINDOW'\n    bl_context = \"object\"\n\n    def draw(self, context):\n        layout = self.layout\n\n        obj = context.object\n\n        # `template_list` now takes two new arguments.\n        # The first one is the identifier of the registered UIList to use (if you want only the default list,\n        # with no custom draw code, use \"UI_UL_list\").\n        layout.template_list(\"MATERIAL_UL_matslots_example\", \"\", obj, \"material_slots\", obj, \"active_material_index\")\n\n        # The second one can usually be left as an empty string.\n        # It's an additional ID used to distinguish lists in case you use the same list several times in a given area.\n        layout.template_list(\"MATERIAL_UL_matslots_example\", \"compact\", obj, \"material_slots\",\n                             obj, \"active_material_index\", type='COMPACT')\n\n\ndef register():\n    bpy.utils.register_class(MATERIAL_UL_matslots_example)\n    bpy.utils.register_class(UIListPanelExample1)\n\n\ndef unregister():\n    bpy.utils.unregister_class(UIListPanelExample1)\n    bpy.utils.unregister_class(MATERIAL_UL_matslots_example)\n\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.UIList.html",
        "description": "Code example from Blender API page: bpy.types.UIList.html",
        "code": "import bpy\n\n\nclass MESH_UL_vgroups_slow(bpy.types.UIList):\n    # Constants (flags).\n    # Be careful not to shadow FILTER_ITEM!\n    VGROUP_EMPTY = 1 << 0\n\n    # Custom properties, saved with `.blend` file.\n    use_filter_empty: bpy.props.BoolProperty(\n        name=\"Filter Empty\",\n        default=False,\n        options=set(),\n        description=\"Whether to filter empty vertex groups\",\n    )\n    use_filter_empty_reverse: bpy.props.BoolProperty(\n        name=\"Reverse Empty\",\n        default=False,\n        options=set(),\n        description=\"Reverse empty filtering\",\n    )\n    use_filter_name_reverse: bpy.props.BoolProperty(\n        name=\"Reverse Name\",\n        default=False,\n        options=set(),\n        description=\"Reverse name filtering\",\n    )\n    use_filter_orderby_invert: bpy.props.BoolProperty(\n        name=\"Reverse Order\",\n        default=False,\n        options=set(),\n        description=\"Reverse order filtering\",\n    )\n\n    # This allows us to have mutually exclusive options, which are also all disable-able!\n    def _gen_order_update(name1, name2):\n        def _u(self, ctxt):\n            if (getattr(self, name1)):\n                setattr(self, name2, False)\n        return _u\n    use_order_name: bpy.props.BoolProperty(\n        name=\"Name\", default=False, options=set(),\n        description=\"Sort groups by their name (case-insensitive)\",\n        update=_gen_order_update(\"use_order_name\", \"use_order_importance\"),\n    )\n    use_order_importance: bpy.props.BoolProperty(\n        name=\"Importance\",\n        default=False,\n        options=set(),\n        description=\"Sort groups by their average weight in the mesh\",\n        update=_gen_order_update(\"use_order_importance\", \"use_order_name\"),\n    )\n\n    # Usual draw item function.\n    def draw_item(self, context, layout, data, item, icon, active_data, active_propname, index, flt_flag):\n        # Just in case, we do not use it here!\n        self.use_filter_invert = False\n\n        # assert(isinstance(item, bpy.types.VertexGroup)\n        vgroup = item\n        if self.layout_type in {'DEFAULT', 'COMPACT'}:\n            # Here we use one feature of new filtering feature: it can pass data to draw_item, through flt_flag\n            # parameter, which contains exactly what filter_items set in its filter list for this item!\n            # In this case, we show empty groups grayed out.\n            if flt_flag & self.VGROUP_EMPTY:\n                col = layout.column()\n                col.enabled = False\n                col.alignment = 'LEFT'\n                col.prop(vgroup, \"name\", text=\"\", emboss=False, icon_value=icon)\n            else:\n                layout.prop(vgroup, \"name\", text=\"\", emboss=False, icon_value=icon)\n            icon = 'LOCKED' if vgroup.lock_weight else 'UNLOCKED'\n            layout.prop(vgroup, \"lock_weight\", text=\"\", icon=icon, emboss=False)\n        elif self.layout_type == 'GRID':\n            layout.alignment = 'CENTER'\n            if flt_flag & self.VGROUP_EMPTY:\n                layout.enabled = False\n            layout.label(text=\"\", icon_value=icon)\n\n    def draw_filter(self, context, layout):\n        # Nothing much to say here, it's usual UI code...\n        row = layout.row()\n\n        subrow = row.row(align=True)\n        subrow.prop(self, \"filter_name\", text=\"\")\n        icon = 'ZOOM_OUT' if self.use_filter_name_reverse else 'ZOOM_IN'\n        subrow.prop(self, \"use_filter_name_reverse\", text=\"\", icon=icon)\n\n        subrow = row.row(align=True)\n        subrow.prop(self, \"use_filter_empty\", toggle=True)\n        icon = 'ZOOM_OUT' if self.use_filter_empty_reverse else 'ZOOM_IN'\n        subrow.prop(self, \"use_filter_empty_reverse\", text=\"\", icon=icon)\n\n        row = layout.row(align=True)\n        row.label(text=\"Order by:\")\n        row.prop(self, \"use_order_name\", toggle=True)\n        row.prop(self, \"use_order_importance\", toggle=True)\n        icon = 'TRIA_UP' if self.use_filter_orderby_invert else 'TRIA_DOWN'\n        row.prop(self, \"use_filter_orderby_invert\", text=\"\", icon=icon)\n\n    def filter_items_empty_vgroups(self, context, vgroups):\n        # This helper function checks vgroups to find out whether they are empty, and what's their average weights.\n        # TODO: This should be RNA helper actually (a vgroup prop like `\"raw_data: ((vidx, vweight), etc.)\"`).\n        #       Too slow for Python!\n        obj_data = context.active_object.data\n        ret = {vg.index: [True, 0.0] for vg in vgroups}\n        if hasattr(obj_data, \"vertices\"):  # Mesh data\n            if obj_data.is_editmode:\n                import bmesh\n                bm = bmesh.from_edit_mesh(obj_data)\n                # only ever one deform weight layer\n                dvert_lay = bm.verts.layers.deform.active\n                fact = 1 / len(bm.verts)\n                if dvert_lay:\n                    for v in bm.verts:\n                        for vg_idx, vg_weight in v[dvert_lay].items():\n                            ret[vg_idx][0] = False\n                            ret[vg_idx][1] += vg_weight * fact\n            else:\n                fact = 1 / len(obj_data.vertices)\n                for v in obj_data.vertices:\n                    for vg in v.groups:\n                        ret[vg.group][0] = False\n                        ret[vg.group][1] += vg.weight * fact\n        elif hasattr(obj_data, \"points\"):  # Lattice data\n            # XXX: no access to lattice edit-data?\n            fact = 1 / len(obj_data.points)\n            for v in obj_data.points:\n                for vg in v.groups:\n                    ret[vg.group][0] = False\n                    ret[vg.group][1] += vg.weight * fact\n        return ret\n\n    def filter_items(self, context, data, propname):\n        # This function gets the collection property (as the usual tuple (data, propname)), and must return two lists:\n        # * The first one is for filtering, it must contain 32bit integers were self.bitflag_filter_item marks the\n        #   matching item as filtered (i.e. to be shown). The upper 16 bits (including `self.bitflag_filter_item`) are\n        #   reserved for internal use, the lower 16 bits are free for custom use. Here we use the first bit to mark\n        #   VGROUP_EMPTY.\n        # * The second one is for reordering, it must return a list containing the new indices of the items (which\n        #   gives us a mapping `org_idx -> new_idx`).\n        # Please note that the default UI_UL_list defines helper functions for common tasks (see its doc for more info).\n        # If you do not make filtering and/or ordering, return empty list(s) (this will be more efficient than\n        # returning full lists doing nothing!).\n        vgroups = getattr(data, propname)\n        helper_funcs = bpy.types.UI_UL_list\n\n        # Default return values.\n        flt_flags = []\n        flt_neworder = []\n\n        # Pre-compute of vertex-groups data, unfortunately this is CPU-intensive.\n        vgroups_empty = self.filter_items_empty_vgroups(context, vgroups)\n\n        # Filtering by name.\n        if self.filter_name:\n            flt_flags = helper_funcs.filter_items_by_name(self.filter_name, self.bitflag_filter_item, vgroups, \"name\",\n                                                          reverse=self.use_filter_name_reverse)\n        if not flt_flags:\n            flt_flags = [self.bitflag_filter_item] * len(vgroups)\n\n        # Filter by emptiness.\n        for idx, vg in enumerate(vgroups):\n            if vgroups_empty[vg.index][0]:\n                flt_flags[idx] |= self.VGROUP_EMPTY\n                if self.use_filter_empty and self.use_filter_empty_reverse:\n                    flt_flags[idx] &= ~self.bitflag_filter_item\n            elif self.use_filter_empty and not self.use_filter_empty_reverse:\n                flt_flags[idx] &= ~self.bitflag_filter_item\n\n        # Reorder by name or average weight.\n        if self.use_order_name:\n            flt_neworder = helper_funcs.sort_items_by_name(vgroups, \"name\")\n            if self.use_filter_orderby_invert:\n                flt_neworder.reverse()\n        elif self.use_order_importance:\n            _sort = [(idx, vgroups_empty[vg.index][1]) for idx, vg in enumerate(vgroups)]\n            highest_first = not self.use_filter_orderby_invert\n            flt_neworder = helper_funcs.sort_items_helper(_sort, lambda e: e[1], highest_first)\n\n        return flt_flags, flt_neworder\n\n\n# Minimal code to use above UIList...\nclass UIListPanelExample2(bpy.types.Panel):\n    \"\"\"Creates a Panel in the Object properties window\"\"\"\n    bl_label = \"UIList Example 2 Panel\"\n    bl_idname = \"OBJECT_PT_ui_list_example_2\"\n    bl_space_type = 'PROPERTIES'\n    bl_region_type = 'WINDOW'\n    bl_context = \"object\"\n\n    def draw(self, context):\n        layout = self.layout\n        obj = context.object\n\n        # `template_list` now takes two new arguments.\n        # The first one is the identifier of the registered UIList to use (if you want only the default list,\n        # with no custom draw code, use \"UI_UL_list\").\n        layout.template_list(\"MESH_UL_vgroups_slow\", \"\", obj, \"vertex_groups\", obj.vertex_groups, \"active_index\")\n\n\ndef register():\n    bpy.utils.register_class(MESH_UL_vgroups_slow)\n    bpy.utils.register_class(UIListPanelExample2)\n\n\ndef unregister():\n    bpy.utils.unregister_class(UIListPanelExample2)\n    bpy.utils.unregister_class(MESH_UL_vgroups_slow)\n\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.msgbus.html",
        "description": "Code example from Blender API page: bpy.msgbus.html",
        "code": "import bpy\n\n# Any Python object can act as the subscription's owner.\nowner = object()\n\nsubscribe_to = bpy.context.object.location\n\n\ndef msgbus_callback(*args):\n    # This will print:\n    # Something changed! (1, 2, 3)\n    print(\"Something changed!\", args)\n\n\nbpy.msgbus.subscribe_rna(\n    key=subscribe_to,\n    owner=owner,\n    args=(1, 2, 3),\n    notify=msgbus_callback,\n)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.msgbus.html",
        "description": "Code example from Blender API page: bpy.msgbus.html",
        "code": "subscribe_to = bpy.context.object.path_resolve(\"name\", False)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.msgbus.html",
        "description": "Code example from Blender API page: bpy.msgbus.html",
        "code": "subscribe_to = (bpy.types.Object, \"location\")"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.utils.previews.html",
        "description": "Code example from Blender API page: bpy.utils.previews.html",
        "code": "# This sample script demonstrates how to place a custom icon on a button or\n# menu entry.\n#\n# IMPORTANT NOTE: if you run this sample, there will be no icon in the button\n# You need to replace the image path with a real existing one.\n# For distributable scripts, it is recommended to place the icons inside the\n# addon folder and access it relative to the py script file for portability\n#\n#\n# Other use cases for UI-previews:\n# - provide a fixed list of previews to select from\n# - provide a dynamic list of preview (eg. calculated from reading a directory)\n#\n# For the above use cases, see the template `ui_previews_dynamic_enum.py`.\n\n\nimport os\nimport bpy\n\n\nclass PreviewsExamplePanel(bpy.types.Panel):\n    \"\"\"Creates a Panel in the Object properties window\"\"\"\n    bl_label = \"Previews Example Panel\"\n    bl_idname = \"OBJECT_PT_previews\"\n    bl_space_type = 'PROPERTIES'\n    bl_region_type = 'WINDOW'\n    bl_context = \"object\"\n\n    def draw(self, context):\n        layout = self.layout\n        pcoll = preview_collections[\"main\"]\n\n        row = layout.row()\n        my_icon = pcoll[\"my_icon\"]\n        row.operator(\"render.render\", icon_value=my_icon.icon_id)\n\n        # my_icon.icon_id can be used in any UI function that accepts\n        # icon_value # try also setting text=\"\"\n        # to get an icon only operator button\n\n\n# We can store multiple preview collections here,\n# however in this example we only store \"main\"\npreview_collections = {}\n\n\ndef register():\n\n    # Note that preview collections returned by bpy.utils.previews\n    # are regular py objects - you can use them to store custom data.\n    import bpy.utils.previews\n    pcoll = bpy.utils.previews.new()\n\n    # path to the folder where the icon is\n    # the path is calculated relative to this py file inside the addon folder\n    my_icons_dir = os.path.join(os.path.dirname(__file__), \"icons\")\n\n    # load a preview thumbnail of a file and store in the previews collection\n    pcoll.load(\"my_icon\", os.path.join(my_icons_dir, \"icon-image.png\"), 'IMAGE')\n\n    preview_collections[\"main\"] = pcoll\n\n    bpy.utils.register_class(PreviewsExamplePanel)\n\n\ndef unregister():\n\n    for pcoll in preview_collections.values():\n        bpy.utils.previews.remove(pcoll)\n    preview_collections.clear()\n\n    bpy.utils.unregister_class(PreviewsExamplePanel)\n\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Menu.html",
        "description": "Code example from Blender API page: bpy.types.Menu.html",
        "code": "import bpy\n\n\nclass BasicMenu(bpy.types.Menu):\n    bl_idname = \"OBJECT_MT_select_test\"\n    bl_label = \"Select\"\n\n    def draw(self, context):\n        layout = self.layout\n\n        layout.operator(\"object.select_all\", text=\"Select/Deselect All\").action = 'TOGGLE'\n        layout.operator(\"object.select_all\", text=\"Inverse\").action = 'INVERT'\n        layout.operator(\"object.select_random\", text=\"Random\")\n\n\nbpy.utils.register_class(BasicMenu)\n\n# Test call to display immediately.\nbpy.ops.wm.call_menu(name=\"OBJECT_MT_select_test\")"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Menu.html",
        "description": "Code example from Blender API page: bpy.types.Menu.html",
        "code": "import bpy\n\n\nclass SubMenu(bpy.types.Menu):\n    bl_idname = \"OBJECT_MT_select_submenu\"\n    bl_label = \"Select\"\n\n    def draw(self, context):\n        layout = self.layout\n\n        layout.operator(\"object.select_all\", text=\"Select/Deselect All\").action = 'TOGGLE'\n        layout.operator(\"object.select_all\", text=\"Inverse\").action = 'INVERT'\n        layout.operator(\"object.select_random\", text=\"Random\")\n\n        # Access this operator as a sub-menu.\n        layout.operator_menu_enum(\"object.select_by_type\", \"type\", text=\"Select All by Type...\")\n\n        layout.separator()\n\n        # Expand each operator option into this menu.\n        layout.operator_enum(\"object.light_add\", \"type\")\n\n        layout.separator()\n\n        # Use existing menu.\n        layout.menu(\"VIEW3D_MT_transform\")\n\n\nbpy.utils.register_class(SubMenu)\n\n# Test call to display immediately.\nbpy.ops.wm.call_menu(name=\"OBJECT_MT_select_submenu\")"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Menu.html",
        "description": "Code example from Blender API page: bpy.types.Menu.html",
        "code": "import bpy\n\n\ndef menu_draw(self, context):\n    self.layout.operator(\"wm.save_homefile\")\n\n\nbpy.types.TOPBAR_MT_file.append(menu_draw)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Menu.html",
        "description": "Code example from Blender API page: bpy.types.Menu.html",
        "code": "import bpy\nfrom bpy.types import Operator, Menu\nfrom bl_operators.presets import AddPresetBase\n\n\nclass OBJECT_MT_display_presets(Menu):\n    bl_label = \"Object Display Presets\"\n    preset_subdir = \"object/display\"\n    preset_operator = \"script.execute_preset\"\n    draw = Menu.draw_preset\n\n\nclass AddPresetObjectDisplay(AddPresetBase, Operator):\n    '''Add a Object Display Preset'''\n    bl_idname = \"camera.object_display_preset_add\"\n    bl_label = \"Add Object Display Preset\"\n    preset_menu = \"OBJECT_MT_display_presets\"\n\n    # Variable used for all preset values.\n    preset_defines = [\n        \"obj = bpy.context.object\"\n    ]\n\n    # Properties to store in the preset.\n    preset_values = [\n        \"obj.display_type\",\n        \"obj.show_bounds\",\n        \"obj.display_bounds_type\",\n        \"obj.show_name\",\n        \"obj.show_axis\",\n        \"obj.show_wire\",\n    ]\n\n    # Where to store the preset.\n    preset_subdir = \"object/display\"\n\n\n# Display into an existing panel.\ndef panel_func(self, context):\n    layout = self.layout\n\n    row = layout.row(align=True)\n    row.menu(OBJECT_MT_display_presets.__name__, text=OBJECT_MT_display_presets.bl_label)\n    row.operator(AddPresetObjectDisplay.bl_idname, text=\"\", icon='ZOOM_IN')\n    row.operator(AddPresetObjectDisplay.bl_idname, text=\"\", icon='ZOOM_OUT').remove_active = True\n\n\nclasses = (\n    OBJECT_MT_display_presets,\n    AddPresetObjectDisplay,\n)\n\n\ndef register():\n    for cls in classes:\n        bpy.utils.register_class(cls)\n    bpy.types.OBJECT_PT_display.prepend(panel_func)\n\n\ndef unregister():\n    for cls in classes:\n        bpy.utils.unregister_class(cls)\n    bpy.types.OBJECT_PT_display.remove(panel_func)\n\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Menu.html",
        "description": "Code example from Blender API page: bpy.types.Menu.html",
        "code": "import bpy\n\n\ndef dump(obj, text):\n    for attr in dir(obj):\n        print(\"{!r}.{:s} = {:s}\".format(obj, attr, getattr(obj, attr)))\n\n\nclass WM_OT_button_context_test(bpy.types.Operator):\n    \"\"\"Right click entry test\"\"\"\n    bl_idname = \"wm.button_context_test\"\n    bl_label = \"Run Context Test\"\n\n    @classmethod\n    def poll(cls, context):\n        return context.active_object is not None\n\n    def execute(self, context):\n        value = getattr(context, \"button_pointer\", None)\n        if value is not None:\n            dump(value, \"button_pointer\")\n\n        value = getattr(context, \"button_prop\", None)\n        if value is not None:\n            dump(value, \"button_prop\")\n\n        value = getattr(context, \"button_operator\", None)\n        if value is not None:\n            dump(value, \"button_operator\")\n\n        return {'FINISHED'}\n\n\ndef draw_menu(self, context):\n    layout = self.layout\n    layout.separator()\n    layout.operator(WM_OT_button_context_test.bl_idname)\n\n\ndef register():\n    bpy.utils.register_class(WM_OT_button_context_test)\n    bpy.types.UI_MT_button_context_menu.append(draw_menu)\n\n\ndef unregister():\n    bpy.types.UI_MT_button_context_menu.remove(draw_menu)\n    bpy.utils.unregister_class(WM_OT_button_context_test)\n\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.props.html",
        "description": "Code example from Blender API page: bpy.props.html",
        "code": "import bpy\n\n# Assign a custom property to an existing type.\nbpy.types.Material.custom_float = bpy.props.FloatProperty(name=\"Test Property\")\n\n# Test the property is there.\nbpy.data.materials[0].custom_float = 5.0"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.props.html",
        "description": "Code example from Blender API page: bpy.props.html",
        "code": "import bpy\n\n\nclass OBJECT_OT_property_example(bpy.types.Operator):\n    bl_idname = \"object.property_example\"\n    bl_label = \"Property Example\"\n    bl_options = {'REGISTER', 'UNDO'}\n\n    my_float: bpy.props.FloatProperty(name=\"Some Floating Point\")\n    my_bool: bpy.props.BoolProperty(name=\"Toggle Option\")\n    my_string: bpy.props.StringProperty(name=\"String Value\")\n\n    def execute(self, context):\n        self.report(\n            {'INFO'}, \"F: {:.2f}  B: {!s}  S: {!r}\".format(\n                self.my_float, self.my_bool, self.my_string,\n            )\n        )\n        print('My float:', self.my_float)\n        print('My bool:', self.my_bool)\n        print('My string:', self.my_string)\n        return {'FINISHED'}\n\n\nclass OBJECT_PT_property_example(bpy.types.Panel):\n    bl_idname = \"object_PT_property_example\"\n    bl_label = \"Property Example\"\n    bl_space_type = 'VIEW_3D'\n    bl_region_type = 'UI'\n    bl_category = \"Tool\"\n\n    def draw(self, context):\n        # You can set the property values that should be used when the user\n        # presses the button in the UI.\n        props = self.layout.operator('object.property_example')\n        props.my_bool = True\n        props.my_string = \"Shouldn't that be 47?\"\n\n        # You can set properties dynamically:\n        if context.object:\n            props.my_float = context.object.location.x\n        else:\n            props.my_float = 327\n\n\nbpy.utils.register_class(OBJECT_OT_property_example)\nbpy.utils.register_class(OBJECT_PT_property_example)\n\n# Demo call. Be sure to also test in the 3D Viewport.\nbpy.ops.object.property_example(\n    my_float=47,\n    my_bool=True,\n    my_string=\"Shouldn't that be 327?\",\n)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.props.html",
        "description": "Code example from Blender API page: bpy.props.html",
        "code": "import bpy\n\n\nclass MaterialSettings(bpy.types.PropertyGroup):\n    my_int: bpy.props.IntProperty()\n    my_float: bpy.props.FloatProperty()\n    my_string: bpy.props.StringProperty()\n\n\nbpy.utils.register_class(MaterialSettings)\n\nbpy.types.Material.my_settings = bpy.props.PointerProperty(type=MaterialSettings)\n\n# Test the new settings work.\nmaterial = bpy.data.materials[0]\n\nmaterial.my_settings.my_int = 5\nmaterial.my_settings.my_float = 3.0\nmaterial.my_settings.my_string = \"Foo\""
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.props.html",
        "description": "Code example from Blender API page: bpy.props.html",
        "code": "import bpy\n\n\n# Assign a collection.\nclass SceneSettingItem(bpy.types.PropertyGroup):\n    name: bpy.props.StringProperty(name=\"Test Property\", default=\"Unknown\")\n    value: bpy.props.IntProperty(name=\"Test Property\", default=22)\n\n\nbpy.utils.register_class(SceneSettingItem)\n\nbpy.types.Scene.my_settings = bpy.props.CollectionProperty(type=SceneSettingItem)\n\n# Assume an armature object selected.\nprint(\"Adding 2 values!\")\n\nmy_item = bpy.context.scene.my_settings.add()\nmy_item.name = \"Spam\"\nmy_item.value = 1000\n\nmy_item = bpy.context.scene.my_settings.add()\nmy_item.name = \"Eggs\"\nmy_item.value = 30\n\nfor my_item in bpy.context.scene.my_settings:\n    print(my_item.name, my_item.value)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.props.html",
        "description": "Code example from Blender API page: bpy.props.html",
        "code": "import bpy\n\n\ndef update_func(self, context):\n    print(\"my test function\", self)\n\n\nbpy.types.Scene.testprop = bpy.props.FloatProperty(update=update_func)\n\nbpy.context.scene.testprop = 11.0\n\n# >>> my test function <bpy_struct, Scene(\"Scene\")>"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.props.html",
        "description": "Code example from Blender API page: bpy.props.html",
        "code": "import bpy\n\n\n# Simple property reading/writing from ID properties.\n# This is what the RNA would do internally.\ndef get_float(self):\n    return self[\"testprop\"]\n\n\ndef set_float(self, value):\n    self[\"testprop\"] = value\n\n\nbpy.types.Scene.test_float = bpy.props.FloatProperty(get=get_float, set=set_float)\n\n\n# Read-only string property, returns the current date.\ndef get_date(self):\n    import datetime\n    return str(datetime.datetime.now())\n\n\nbpy.types.Scene.test_date = bpy.props.StringProperty(get=get_date)\n\n\n# Boolean array.\n# - Set function stores a single boolean value, returned as the second component.\n# - Array getters must return a list or tuple.\n# - Array size must match the property vector size exactly.\ndef get_array(self):\n    return (True, self[\"somebool\"])\n\n\ndef set_array(self, values):\n    self[\"somebool\"] = values[0] and values[1]\n\n\nbpy.types.Scene.test_array = bpy.props.BoolVectorProperty(size=2, get=get_array, set=set_array)\n\n\n# Enum property.\n# Note: the getter/setter callback must use integer identifiers!\ntest_items = [\n    (\"RED\", \"Red\", \"\", 1),\n    (\"GREEN\", \"Green\", \"\", 2),\n    (\"BLUE\", \"Blue\", \"\", 3),\n    (\"YELLOW\", \"Yellow\", \"\", 4),\n]\n\n\ndef get_enum(self):\n    import random\n    return random.randint(1, 4)\n\n\ndef set_enum(self, value):\n    print(\"setting value\", value)\n\n\nbpy.types.Scene.test_enum = bpy.props.EnumProperty(items=test_items, get=get_enum, set=set_enum)\n\n\n# Testing the properties:\nscene = bpy.context.scene\n\nscene.test_float = 12.34\nprint('test_float:', scene.test_float)\n\nscene.test_array = (True, False)\nprint('test_array:', tuple(scene.test_array))\n\n# scene.test_date = \"blah\"   # This would fail, property is read-only.\nprint('test_date:', scene.test_date)\n\nscene.test_enum = 'BLUE'\nprint('test_enum:', scene.test_enum)\n\n# The above outputs:\n# test_float: 12.34000015258789\n# test_array: (True, False)\n# test_date: 2018-03-14 11:36:53.158653\n# setting value 3\n# test_enum: GREEN"
    },
    {
        "source": "https://docs.blender.org/api/current/info_advanced_blender_as_bpy.html",
        "description": "Code example from Blender API page: info_advanced_blender_as_bpy.html",
        "code": "import bpy\nimport shutil\n\nblender_bin = shutil.which(\"blender\")\nif blender_bin:\n   print(\"Found:\", blender_bin)\n   bpy.app.binary_path = blender_bin\nelse:\n   print(\"Unable to find blender!\")"
    },
    {
        "source": "https://docs.blender.org/api/current/info_advanced_blender_as_bpy.html",
        "description": "Code example from Blender API page: info_advanced_blender_as_bpy.html",
        "code": "import bpy\n\nbpy.ops.wm.read_userpref()\nbpy.ops.wm.read_homefile()"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.data.html",
        "description": "Code example from Blender API page: bpy.data.html",
        "code": "import bpy\n\n\n# Print all objects.\nfor obj in bpy.data.objects:\n    print(obj.name)\n\n\n# Print all scene names in a list.\nprint(bpy.data.scenes.keys())\n\n\n# Remove mesh Cube.\nif \"Cube\" in bpy.data.meshes:\n    mesh = bpy.data.meshes[\"Cube\"]\n    print(\"removing mesh\", mesh)\n    bpy.data.meshes.remove(mesh)\n\n\n# Write images into a file next to the blend.\nimport os\nwith open(os.path.splitext(bpy.data.filepath)[0] + \".txt\", 'w') as fs:\n    for image in bpy.data.images:\n        fs.write(\"{:s} {:d} x {:d}\\n\".format(image.filepath, image.size[0], image.size[1]))"
    },
    {
        "source": "https://docs.blender.org/api/current/gpu.html",
        "description": "Code example from Blender API page: gpu.html",
        "code": "import gpu\nvertex_positions = [(0, 0, 0), ...]\nvertex_normals = [(0, 0, 1), ...]\n\nfmt = gpu.types.GPUVertFormat()\nfmt.attr_add(id=\"pos\", comp_type='F32', len=3, fetch_mode='FLOAT')\nfmt.attr_add(id=\"normal\", comp_type='F32', len=3, fetch_mode='FLOAT')\n\nvbo = gpu.types.GPUVertBuf(len=6, format=fmt)\nvbo.attr_fill(id=\"pos\", data=vertex_positions)\nvbo.attr_fill(id=\"normal\", data=vertex_normals)"
    },
    {
        "source": "https://docs.blender.org/api/current/gpu.html",
        "description": "Code example from Blender API page: gpu.html",
        "code": "positions = (\n    (-1,  1), (1,  1),\n    (-1, -1), (1, -1))\n\nindices = ((0, 1, 2), (2, 1, 3))\n\nibo = gpu.types.GPUIndexBuf(type='TRIS', seq=indices)"
    },
    {
        "source": "https://docs.blender.org/api/current/gpu.html",
        "description": "Code example from Blender API page: gpu.html",
        "code": "import bpy\nimport gpu\nfrom gpu_extras.batch import batch_for_shader\n\ncoords = [(1, 1, 1), (-2, 0, 0), (-2, -1, 3), (0, 1, 1)]\nshader = gpu.shader.from_builtin('POINT_UNIFORM_COLOR')\nbatch = batch_for_shader(shader, 'POINTS', {\"pos\": coords})\n\n\ndef draw():\n    shader.uniform_float(\"color\", (1, 1, 0, 1))\n    gpu.state.point_size_set(4.5)\n    batch.draw(shader)\n\n\nbpy.types.SpaceView3D.draw_handler_add(draw, (), 'WINDOW', 'POST_VIEW')\n\n\n\"\"\"\n\n3D Lines with Single Color\n--------------------------\n\"\"\"\n\nimport bpy\nimport gpu\nfrom gpu_extras.batch import batch_for_shader\n\ncoords = [(1, 1, 1), (-2, 0, 0), (-2, -1, 3), (0, 1, 1)]\nshader = gpu.shader.from_builtin('POLYLINE_UNIFORM_COLOR')\nbatch = batch_for_shader(shader, 'LINES', {\"pos\": coords})\n\n\ndef draw():\n    shader.uniform_float(\"viewportSize\", gpu.state.viewport_get()[2:])\n    shader.uniform_float(\"lineWidth\", 4.5)\n    shader.uniform_float(\"color\", (1, 1, 0, 1))\n    batch.draw(shader)\n\n\nbpy.types.SpaceView3D.draw_handler_add(draw, (), 'WINDOW', 'POST_VIEW')"
    },
    {
        "source": "https://docs.blender.org/api/current/gpu.html",
        "description": "Code example from Blender API page: gpu.html",
        "code": "import bpy\nimport gpu\nfrom gpu_extras.batch import batch_for_shader\n\n\nvert_out = gpu.types.GPUStageInterfaceInfo(\"my_interface\")\nvert_out.smooth('VEC3', \"pos\")\n\nshader_info = gpu.types.GPUShaderCreateInfo()\nshader_info.push_constant('MAT4', \"viewProjectionMatrix\")\nshader_info.push_constant('FLOAT', \"brightness\")\nshader_info.vertex_in(0, 'VEC3', \"position\")\nshader_info.vertex_out(vert_out)\nshader_info.fragment_out(0, 'VEC4', \"FragColor\")\n\nshader_info.vertex_source(\n    \"void main()\"\n    \"{\"\n    \"  pos = position;\"\n    \"  gl_Position = viewProjectionMatrix * vec4(position, 1.0f);\"\n    \"}\"\n)\n\nshader_info.fragment_source(\n    \"void main()\"\n    \"{\"\n    \"  FragColor = vec4(pos * brightness, 1.0);\"\n    \"}\"\n)\n\nshader = gpu.shader.create_from_info(shader_info)\ndel vert_out\ndel shader_info\n\ncoords = [(1, 1, 1), (2, 0, 0), (-2, -1, 3)]\nbatch = batch_for_shader(shader, 'TRIS', {\"position\": coords})\n\n\ndef draw():\n    matrix = bpy.context.region_data.perspective_matrix\n    shader.uniform_float(\"viewProjectionMatrix\", matrix)\n    shader.uniform_float(\"brightness\", 0.5)\n    batch.draw(shader)\n\n\nbpy.types.SpaceView3D.draw_handler_add(draw, (), 'WINDOW', 'POST_VIEW')"
    },
    {
        "source": "https://docs.blender.org/api/current/gpu.html",
        "description": "Code example from Blender API page: gpu.html",
        "code": "import bpy\nimport gpu\nfrom gpu_extras.batch import batch_for_shader\n\ncoords = (\n    (-1, -1, -1), (+1, -1, -1),\n    (-1, +1, -1), (+1, +1, -1),\n    (-1, -1, +1), (+1, -1, +1),\n    (-1, +1, +1), (+1, +1, +1))\n\nindices = (\n    (0, 1), (0, 2), (1, 3), (2, 3),\n    (4, 5), (4, 6), (5, 7), (6, 7),\n    (0, 4), (1, 5), (2, 6), (3, 7))\n\nshader = gpu.shader.from_builtin('POLYLINE_UNIFORM_COLOR')\nbatch = batch_for_shader(shader, 'LINES', {\"pos\": coords}, indices=indices)\n\n\ndef draw():\n    shader.uniform_float(\"viewportSize\", gpu.state.viewport_get()[2:])\n    shader.uniform_float(\"lineWidth\", 4.5)\n    shader.uniform_float(\"color\", (1, 0, 0, 1))\n    batch.draw(shader)\n\n\nbpy.types.SpaceView3D.draw_handler_add(draw, (), 'WINDOW', 'POST_VIEW')"
    },
    {
        "source": "https://docs.blender.org/api/current/gpu.html",
        "description": "Code example from Blender API page: gpu.html",
        "code": "import bpy\nimport gpu\nimport numpy as np\nfrom random import random\nfrom gpu_extras.batch import batch_for_shader\n\nmesh = bpy.context.active_object.data\nmesh.calc_loop_triangles()\n\nvertices = np.empty((len(mesh.vertices), 3), 'f')\nindices = np.empty((len(mesh.loop_triangles), 3), 'i')\n\nmesh.vertices.foreach_get(\n    \"co\", np.reshape(vertices, len(mesh.vertices) * 3))\nmesh.loop_triangles.foreach_get(\n    \"vertices\", np.reshape(indices, len(mesh.loop_triangles) * 3))\n\nvertex_colors = [(random(), random(), random(), 1) for _ in range(len(mesh.vertices))]\n\nshader = gpu.shader.from_builtin('SMOOTH_COLOR')\nbatch = batch_for_shader(\n    shader, 'TRIS',\n    {\"pos\": vertices, \"color\": vertex_colors},\n    indices=indices,\n)\n\n\ndef draw():\n    gpu.state.depth_test_set('LESS_EQUAL')\n    gpu.state.depth_mask_set(True)\n    batch.draw(shader)\n    gpu.state.depth_mask_set(False)\n\n\nbpy.types.SpaceView3D.draw_handler_add(draw, (), 'WINDOW', 'POST_VIEW')"
    },
    {
        "source": "https://docs.blender.org/api/current/gpu.html",
        "description": "Code example from Blender API page: gpu.html",
        "code": "import bpy\nimport gpu\nfrom gpu_extras.batch import batch_for_shader\n\nvertices = (\n    (100, 100), (300, 100),\n    (100, 200), (300, 200))\n\nindices = (\n    (0, 1, 2), (2, 1, 3))\n\nshader = gpu.shader.from_builtin('UNIFORM_COLOR')\nbatch = batch_for_shader(shader, 'TRIS', {\"pos\": vertices}, indices=indices)\n\n\ndef draw():\n    shader.uniform_float(\"color\", (0, 0.5, 0.5, 1.0))\n    batch.draw(shader)\n\n\nbpy.types.SpaceView3D.draw_handler_add(draw, (), 'WINDOW', 'POST_PIXEL')"
    },
    {
        "source": "https://docs.blender.org/api/current/gpu.html",
        "description": "Code example from Blender API page: gpu.html",
        "code": "import bpy\nimport gpu\nfrom gpu_extras.batch import batch_for_shader\n\nIMAGE_NAME = \"Untitled\"\nimage = bpy.data.images[IMAGE_NAME]\ntexture = gpu.texture.from_image(image)\n\nshader = gpu.shader.from_builtin('IMAGE')\nbatch = batch_for_shader(\n    shader, 'TRI_FAN',\n    {\n        \"pos\": ((100, 100), (200, 100), (200, 200), (100, 200)),\n        \"texCoord\": ((0, 0), (1, 0), (1, 1), (0, 1)),\n    },\n)\n\n\ndef draw():\n    shader.bind()\n    shader.uniform_sampler(\"image\", texture)\n    batch.draw(shader)\n\n\nbpy.types.SpaceView3D.draw_handler_add(draw, (), 'WINDOW', 'POST_PIXEL')\n\n\"\"\"\n3D Image\n--------\n\nSimilar to the 2D Image shader, but works with 3D positions for the image vertices.\nTo use this example you have to provide an image that should be displayed.\n\"\"\"\nimport bpy\nimport gpu\nfrom gpu_extras.batch import batch_for_shader\n\nIMAGE_NAME = \"Untitled\"\nimage = bpy.data.images[IMAGE_NAME]\ntexture = gpu.texture.from_image(image)\n\nshader = gpu.shader.from_builtin('IMAGE')\nbatch = batch_for_shader(\n    shader, 'TRIS',\n    {\n        \"pos\": ((0, 0, 0), (0, 1, 1), (1, 1, 1), (1, 1, 1), (1, 0, 0), (0, 0, 0)),\n        \"texCoord\": ((0, 0), (0, 1), (1, 1), (1, 1), (1, 0), (0, 0)),\n    },\n)\n\n\ndef draw():\n    shader.uniform_sampler(\"image\", texture)\n    batch.draw(shader)\n\n\nbpy.types.SpaceView3D.draw_handler_add(draw, (), 'WINDOW', 'POST_VIEW')"
    },
    {
        "source": "https://docs.blender.org/api/current/gpu.html",
        "description": "Code example from Blender API page: gpu.html",
        "code": "import bpy\nimport gpu\nfrom mathutils import Matrix\nfrom gpu_extras.batch import batch_for_shader\nfrom gpu_extras.presets import draw_circle_2d\n\n# Create and fill offscreen\n##########################################\n\noffscreen = gpu.types.GPUOffScreen(512, 512)\n\nwith offscreen.bind():\n    fb = gpu.state.active_framebuffer_get()\n    fb.clear(color=(0.0, 0.0, 0.0, 0.0))\n    with gpu.matrix.push_pop():\n        # Reset matrices -> use normalized device coordinates [-1, 1].\n        gpu.matrix.load_matrix(Matrix.Identity(4))\n        gpu.matrix.load_projection_matrix(Matrix.Identity(4))\n\n        amount = 10\n        for i in range(-amount, amount + 1):\n            x_pos = i / amount\n            draw_circle_2d((x_pos, 0.0), (1, 1, 1, 1), 0.5, segments=200)\n\n\n# Drawing the generated texture in 3D space\n#############################################\n\nvert_out = gpu.types.GPUStageInterfaceInfo(\"my_interface\")\nvert_out.smooth('VEC2', \"uvInterp\")\n\nshader_info = gpu.types.GPUShaderCreateInfo()\nshader_info.push_constant('MAT4', \"viewProjectionMatrix\")\nshader_info.push_constant('MAT4', \"modelMatrix\")\nshader_info.sampler(0, 'FLOAT_2D', \"image\")\nshader_info.vertex_in(0, 'VEC2', \"position\")\nshader_info.vertex_in(1, 'VEC2', \"uv\")\nshader_info.vertex_out(vert_out)\nshader_info.fragment_out(0, 'VEC4', \"FragColor\")\n\nshader_info.vertex_source(\n    \"void main()\"\n    \"{\"\n    \"  uvInterp = uv;\"\n    \"  gl_Position = viewProjectionMatrix * modelMatrix * vec4(position, 0.0, 1.0);\"\n    \"}\"\n)\n\nshader_info.fragment_source(\n    \"void main()\"\n    \"{\"\n    \"  FragColor = texture(image, uvInterp);\"\n    \"}\"\n)\n\nshader = gpu.shader.create_from_info(shader_info)\ndel vert_out\ndel shader_info\n\nbatch = batch_for_shader(\n    shader, 'TRI_FAN',\n    {\n        \"position\": ((-1, -1), (1, -1), (1, 1), (-1, 1)),\n        \"uv\": ((0, 0), (1, 0), (1, 1), (0, 1)),\n    },\n)\n\n\ndef draw():\n    shader.uniform_float(\"modelMatrix\", Matrix.Translation((1, 2, 3)) @ Matrix.Scale(3, 4))\n    shader.uniform_float(\"viewProjectionMatrix\", bpy.context.region_data.perspective_matrix)\n    shader.uniform_sampler(\"image\", offscreen.texture_color)\n    batch.draw(shader)\n\n\nbpy.types.SpaceView3D.draw_handler_add(draw, (), 'WINDOW', 'POST_VIEW')"
    },
    {
        "source": "https://docs.blender.org/api/current/gpu.html",
        "description": "Code example from Blender API page: gpu.html",
        "code": "import bpy\nimport gpu\nimport random\nfrom mathutils import Matrix\nfrom gpu_extras.presets import draw_circle_2d\n\nIMAGE_NAME = \"Generated Image\"\nWIDTH = 512\nHEIGHT = 512\nRING_AMOUNT = 10\n\n\noffscreen = gpu.types.GPUOffScreen(WIDTH, HEIGHT)\n\nwith offscreen.bind():\n    fb = gpu.state.active_framebuffer_get()\n    fb.clear(color=(0.0, 0.0, 0.0, 0.0))\n    with gpu.matrix.push_pop():\n        # Reset matrices -> use normalized device coordinates [-1, 1].\n        gpu.matrix.load_matrix(Matrix.Identity(4))\n        gpu.matrix.load_projection_matrix(Matrix.Identity(4))\n\n        for i in range(RING_AMOUNT):\n            draw_circle_2d(\n                (random.uniform(-1, 1), random.uniform(-1, 1)),\n                (1, 1, 1, 1), random.uniform(0.1, 1),\n                segments=20,\n            )\n\n    buffer = fb.read_color(0, 0, WIDTH, HEIGHT, 4, 0, 'UBYTE')\n\noffscreen.free()\n\n\nif IMAGE_NAME not in bpy.data.images:\n    bpy.data.images.new(IMAGE_NAME, WIDTH, HEIGHT)\nimage = bpy.data.images[IMAGE_NAME]\nimage.scale(WIDTH, HEIGHT)\n\nbuffer.dimensions = WIDTH * HEIGHT * 4\nimage.pixels = [v / 255 for v in buffer]"
    },
    {
        "source": "https://docs.blender.org/api/current/gpu.html",
        "description": "Code example from Blender API page: gpu.html",
        "code": "import bpy\nimport gpu\nfrom gpu_extras.presets import draw_texture_2d\n\nWIDTH = 512\nHEIGHT = 256\n\noffscreen = gpu.types.GPUOffScreen(WIDTH, HEIGHT)\n\n\ndef draw():\n    context = bpy.context\n    scene = context.scene\n\n    view_matrix = scene.camera.matrix_world.inverted()\n\n    projection_matrix = scene.camera.calc_matrix_camera(\n        context.evaluated_depsgraph_get(), x=WIDTH, y=HEIGHT)\n\n    offscreen.draw_view3d(\n        scene,\n        context.view_layer,\n        context.space_data,\n        context.region,\n        view_matrix,\n        projection_matrix,\n        do_color_management=True)\n\n    gpu.state.depth_mask_set(False)\n    draw_texture_2d(offscreen.texture_color, (10, 10), WIDTH, HEIGHT)\n\n\nbpy.types.SpaceView3D.draw_handler_add(draw, (), 'WINDOW', 'POST_PIXEL')"
    },
    {
        "source": "https://docs.blender.org/api/current/gpu.html",
        "description": "Code example from Blender API page: gpu.html",
        "code": "import bpy\nimport gpu\nfrom random import random\nfrom mathutils import Vector\nfrom gpu_extras.batch import batch_for_shader\n\nvert_out = gpu.types.GPUStageInterfaceInfo(\"my_interface\")\nvert_out.smooth('FLOAT', \"v_ArcLength\")\n\nshader_info = gpu.types.GPUShaderCreateInfo()\nshader_info.push_constant('MAT4', \"u_ViewProjectionMatrix\")\nshader_info.push_constant('FLOAT', \"u_Scale\")\nshader_info.vertex_in(0, 'VEC3', \"position\")\nshader_info.vertex_in(1, 'FLOAT', \"arcLength\")\nshader_info.vertex_out(vert_out)\nshader_info.fragment_out(0, 'VEC4', \"FragColor\")\n\nshader_info.vertex_source(\n    \"void main()\"\n    \"{\"\n    \"  v_ArcLength = arcLength;\"\n    \"  gl_Position = u_ViewProjectionMatrix * vec4(position, 1.0f);\"\n    \"}\"\n)\n\nshader_info.fragment_source(\n    \"void main()\"\n    \"{\"\n    \"  if (step(sin(v_ArcLength * u_Scale), 0.5) == 1) discard;\"\n    \"  FragColor = vec4(1.0);\"\n    \"}\"\n)\n\nshader = gpu.shader.create_from_info(shader_info)\ndel vert_out\ndel shader_info\n\ncoords = [Vector((random(), random(), random())) * 5 for _ in range(5)]\n\narc_lengths = [0]\nfor a, b in zip(coords[:-1], coords[1:]):\n    arc_lengths.append(arc_lengths[-1] + (a - b).length)\n\nbatch = batch_for_shader(\n    shader, 'LINE_STRIP',\n    {\"position\": coords, \"arcLength\": arc_lengths},\n)\n\n\ndef draw():\n    matrix = bpy.context.region_data.perspective_matrix\n    shader.uniform_float(\"u_ViewProjectionMatrix\", matrix)\n    shader.uniform_float(\"u_Scale\", 10)\n    batch.draw(shader)\n\n\nbpy.types.SpaceView3D.draw_handler_add(draw, (), 'WINDOW', 'POST_VIEW')"
    },
    {
        "source": "https://docs.blender.org/api/current/gpu.html",
        "description": "Code example from Blender API page: gpu.html",
        "code": "import bpy\nimport gpu\nfrom mathutils import Matrix\nfrom gpu_extras.batch import batch_for_shader\nimport time\n\nstart_time = time.time()\n\nsize = 128\ntexture = gpu.types.GPUTexture((size, size), format='RGBA32F')\n\n# Create the compute shader to write to the texture.\ncompute_shader_info = gpu.types.GPUShaderCreateInfo()\ncompute_shader_info.image(0, 'RGBA32F', \"FLOAT_2D\", \"img_output\", qualifiers={\"WRITE\"})\ncompute_shader_info.compute_source('''\nvoid main()\n{\n  vec4 pixel = vec4(\n    sin(time / 1.0),\n    gl_GlobalInvocationID.y/128.0,\n    0.0,\n    1.0\n  );\n  imageStore(img_output, ivec2(gl_GlobalInvocationID.xy), pixel);\n}''')\ncompute_shader_info.push_constant('FLOAT', \"time\")\ncompute_shader_info.local_group_size(1, 1)\ncompute_shader = gpu.shader.create_from_info(compute_shader_info)\n\n# Create the shader to draw the texture.\nvert_out = gpu.types.GPUStageInterfaceInfo(\"my_interface\")\nvert_out.smooth('VEC2', \"uvInterp\")\nshader_info = gpu.types.GPUShaderCreateInfo()\nshader_info.push_constant('MAT4', \"viewProjectionMatrix\")\nshader_info.push_constant('MAT4', \"modelMatrix\")\nshader_info.sampler(0, 'FLOAT_2D', \"img_input\")\nshader_info.vertex_in(0, 'VEC2', \"position\")\nshader_info.vertex_in(1, 'VEC2', \"uv\")\nshader_info.vertex_out(vert_out)\nshader_info.fragment_out(0, 'VEC4', \"FragColor\")\n\nshader_info.vertex_source(\n    \"void main()\"\n    \"{\"\n    \"  uvInterp = uv;\"\n    \"  gl_Position = viewProjectionMatrix * modelMatrix * vec4(position, 0.0, 1.0);\"\n    \"}\"\n)\n\nshader_info.fragment_source(\n    \"void main()\"\n    \"{\"\n    \"  FragColor = texture(img_input, uvInterp);\"\n    \"}\"\n)\n\nshader = gpu.shader.create_from_info(shader_info)\n\nbatch = batch_for_shader(\n    shader, 'TRI_FAN',\n    {\n        \"position\": ((-1, -1), (1, -1), (1, 1), (-1, 1)),\n        \"uv\": ((0, 0), (1, 0), (1, 1), (0, 1)),\n    },\n)\n\n\ndef draw():\n    shader.uniform_float(\"modelMatrix\", Matrix.Translation((0, 0, 0)) @ Matrix.Scale(1, 4))\n    shader.uniform_float(\"viewProjectionMatrix\", bpy.context.region_data.perspective_matrix)\n    shader.uniform_sampler(\"img_input\", texture)\n    batch.draw(shader)\n    compute_shader.image('img_output', texture)\n    compute_shader.uniform_float(\"time\", time.time() - start_time)\n    gpu.compute.dispatch(compute_shader, 128, 128, 1)\n\n\ndef drawTimer():\n    for area in bpy.context.screen.areas:\n        if area.type == 'VIEW_3D':\n            area.tag_redraw()\n    return 1.0 / 60.0\n\n\nbpy.app.timers.register(drawTimer)\nbpy.types.SpaceView3D.draw_handler_add(draw, (), 'WINDOW', 'POST_VIEW')"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Mesh.html",
        "description": "Code example from Blender API page: bpy.types.Mesh.html",
        "code": "import bpy\n\nme = bpy.context.object.data\nuv_layer = me.uv_layers.active.data\n\nfor poly in me.polygons:\n    print(\"Polygon index: {:d}, length: {:d}\".format(poly.index, poly.loop_total))\n\n    # Range is used here to show how the polygons reference loops,\n    # for convenience 'poly.loop_indices' can be used instead.\n    for loop_index in range(poly.loop_start, poly.loop_start + poly.loop_total):\n        print(\"    Vertex: {:d}\".format(me.loops[loop_index].vertex_index))\n        print(\"    UV: {!r}\".format(uv_layer[loop_index].uv))"
    },
    {
        "source": "https://docs.blender.org/api/current/info_overview.html",
        "description": "Code example from Blender API page: info_overview.html",
        "code": "import bpy\nbpy.data.objects[\"Cube\"].data.vertices[0].co.x += 1.0"
    },
    {
        "source": "https://docs.blender.org/api/current/info_overview.html",
        "description": "Code example from Blender API page: info_overview.html",
        "code": "blender --python /home/me/my_script.py"
    },
    {
        "source": "https://docs.blender.org/api/current/info_overview.html",
        "description": "Code example from Blender API page: info_overview.html",
        "code": "import bpy\nclass SimpleOperator(bpy.types.Operator):\n    bl_idname = \"object.simple_operator\"\n    bl_label = \"Tool Name\"\n\n    def execute(self, context):\n        print(\"Hello World\")\n        return {'FINISHED'}\n\nbpy.utils.register_class(SimpleOperator)"
    },
    {
        "source": "https://docs.blender.org/api/current/info_overview.html",
        "description": "Code example from Blender API page: info_overview.html",
        "code": "import bpy\nclass BaseOperator:\n    def execute(self, context):\n        print(\"Hello World BaseClass\")\n        return {'FINISHED'}\n\nclass SimpleOperator(bpy.types.Operator, BaseOperator):\n    bl_idname = \"object.simple_operator\"\n    bl_label = \"Tool Name\"\n\nbpy.utils.register_class(SimpleOperator)"
    },
    {
        "source": "https://docs.blender.org/api/current/info_overview.html",
        "description": "Code example from Blender API page: info_overview.html",
        "code": "import bpy\nbpy.ops.object.simple_operator()"
    },
    {
        "source": "https://docs.blender.org/api/current/info_overview.html",
        "description": "Code example from Blender API page: info_overview.html",
        "code": "import bpy\nclass AwesomeRaytracer(bpy.types.RenderEngine):\n   def __init__(self, *args, **kwargs):\n      super().__init__(*args, **kwargs)\n      self.my_var = 42\n      ..."
    },
    {
        "source": "https://docs.blender.org/api/current/info_overview.html",
        "description": "Code example from Blender API page: info_overview.html",
        "code": "import bpy\nclass FancyRaytracer(AwesomeRaytracer, bpy.types.RenderEngine):\n   def __init__(self, *args, **kwargs):\n      bpy.types.RenderEngine.__init__(self, *args, **kwargs)\n      AwesomeRaytracer.__init__(self, *args, **kwargs)\n      self.my_var = 42\n      ..."
    },
    {
        "source": "https://docs.blender.org/api/current/info_overview.html",
        "description": "Code example from Blender API page: info_overview.html",
        "code": "import bpy\n\nclass SimpleOperator(bpy.types.Operator):\n    \"\"\" See example above \"\"\"\n\ndef register():\n    bpy.utils.register_class(SimpleOperator)\n\ndef unregister():\n    bpy.utils.unregister_class(SimpleOperator)\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/info_overview.html",
        "description": "Code example from Blender API page: info_overview.html",
        "code": "if __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/info_overview.html",
        "description": "Code example from Blender API page: info_overview.html",
        "code": "# Create new property:\n# bpy.data.materials[0].my_custom_props.my_float\nimport bpy\n\nclass MyMaterialProps(bpy.types.PropertyGroup):\n    my_float: bpy.props.FloatProperty()\n\ndef register():\n    bpy.utils.register_class(MyMaterialProps)\n    bpy.types.Material.my_custom_props: bpy.props.PointerProperty(type=MyMaterialProps)\n\ndef unregister():\n    del bpy.types.Material.my_custom_props\n    bpy.utils.unregister_class(MyMaterialProps)\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/info_overview.html",
        "description": "Code example from Blender API page: info_overview.html",
        "code": "# Create new property group with a sub property:\n# bpy.data.materials[0].my_custom_props.sub_group.my_float\nimport bpy\n\nclass MyMaterialSubProps(bpy.types.PropertyGroup):\n    my_float: bpy.props.FloatProperty()\n\nclass MyMaterialGroupProps(bpy.types.PropertyGroup):\n    sub_group: bpy.props.PointerProperty(type=MyMaterialSubProps)\n\ndef register():\n    bpy.utils.register_class(MyMaterialSubProps)\n    bpy.utils.register_class(MyMaterialGroupProps)\n    bpy.types.Material.my_custom_props: bpy.props.PointerProperty(type=MyMaterialGroupProps)\n\ndef unregister():\n    del bpy.types.Material.my_custom_props\n    bpy.utils.unregister_class(MyMaterialGroupProps)\n    bpy.utils.unregister_class(MyMaterialSubProps)\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/info_overview.html",
        "description": "Code example from Blender API page: info_overview.html",
        "code": "# Add a new property to an existing type.\nbpy.types.Object.my_float: bpy.props.FloatProperty()\n# Remove it.\ndel bpy.types.Object.my_float"
    },
    {
        "source": "https://docs.blender.org/api/current/info_overview.html",
        "description": "Code example from Blender API page: info_overview.html",
        "code": "class MyPropGroup(bpy.types.PropertyGroup):\n    pass\nMyPropGroup.my_float: bpy.props.FloatProperty()"
    },
    {
        "source": "https://docs.blender.org/api/current/info_overview.html",
        "description": "Code example from Blender API page: info_overview.html",
        "code": "class MyPropGroup(bpy.types.PropertyGroup):\n    my_float: bpy.props.FloatProperty()"
    },
    {
        "source": "https://docs.blender.org/api/current/info_overview.html",
        "description": "Code example from Blender API page: info_overview.html",
        "code": "for i in range(10):\n    idname = \"object.operator_{:d}\".format(i)\n\n    def func(self, context):\n        print(\"Hello World\", self.bl_idname)\n        return {'FINISHED'}\n\n    op_class = type(\n        \"DynOp{:d}\".format(i),\n        (bpy.types.Operator, ),\n        {\"bl_idname\": idname, \"bl_label\": \"Test\", \"execute\": func},\n    )\n    bpy.utils.register_class(op_class)"
    },
    {
        "source": "https://docs.blender.org/api/current/info_overview.html",
        "description": "Code example from Blender API page: info_overview.html",
        "code": ">>> bpy.ops.object.operator_1()\nHello World OBJECT_OT_operator_1\n{'FINISHED'}"
    },
    {
        "source": "https://docs.blender.org/api/current/info_overview.html",
        "description": "Code example from Blender API page: info_overview.html",
        "code": ">>> bpy.ops.object.operator_2()\nHello World OBJECT_OT_operator_2\n{'FINISHED'}"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": ">>> bpy.data.objects\n<bpy_collection[3], BlendDataObjects>"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": ">>> bpy.data.scenes\n<bpy_collection[1], BlendDataScenes>"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": ">>> bpy.data.materials\n<bpy_collection[1], BlendDataMaterials>"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": ">>> list(bpy.data.objects)\n[bpy.data.objects[\"Cube\"], bpy.data.objects[\"Plane\"]]"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": ">>> bpy.data.objects['Cube']\nbpy.data.objects[\"Cube\"]"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": ">>> bpy.data.objects[0]\nbpy.data.objects[\"Cube\"]"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": ">>> bpy.data.objects[0].name\n'Camera'"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": ">>> bpy.data.scenes[\"Scene\"]\nbpy.data.scenes['Scene']"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": ">>> bpy.data.materials.new(\"MyMaterial\")\nbpy.data.materials['MyMaterial']"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": ">>> bpy.data.scenes[0].render.resolution_percentage\n100\n>>> bpy.data.scenes[0].objects[\"Torus\"].data.vertices[0].co.x\n1.0"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": ">>> bpy.types.Mesh()\nTraceback (most recent call last):\n  File \"<blender_console>\", line 1, in <module>\nTypeError: bpy_struct.__new__(type): expected a single argument"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": ">>> mesh = bpy.data.meshes.new(name=\"MyMesh\")\n>>> print(mesh)\n<bpy_struct, Mesh(\"MyMesh.001\")>"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": ">>> bpy.data.meshes.remove(mesh)"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": "bpy.context.object[\"MyOwnProperty\"] = 42\n\nif \"SomeProp\" in bpy.context.object:\n    print(\"Property found\")\n\n# Use the get function like a Python dictionary\n# which can have a fallback value.\nvalue = bpy.data.scenes[\"Scene\"].get(\"test_prop\", \"fallback value\")\n\n# Dictionaries can be assigned as long as they only use basic types.\ncollection = bpy.data.collections.new(\"MyTestCollection\")\ncollection[\"MySettings\"] = {\"foo\": 10, \"bar\": \"spam\", \"baz\": {}}\n\ndel collection[\"MySettings\"]"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": ">>> bpy.context.object\n>>> bpy.context.selected_objects\n>>> bpy.context.visible_bones"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": ">>> bpy.ops.mesh.flip_normals()\n{'FINISHED'}\n>>> bpy.ops.mesh.hide(unselected=False)\n{'FINISHED'}\n>>> bpy.ops.object.transform_apply()\n{'FINISHED'}"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": "RuntimeError: Operator bpy.ops.view3d.render_border.poll() failed, context is incorrect"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": "if bpy.ops.view3d.render_border.poll():\n    bpy.ops.view3d.render_border()"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": "import bpy\n\n\ndef main(context):\n    for ob in context.scene.objects:\n        print(ob)\n\n\nclass SimpleOperator(bpy.types.Operator):\n    \"\"\"Tooltip\"\"\"\n    bl_idname = \"object.simple_operator\"\n    bl_label = \"Simple Object Operator\"\n\n    @classmethod\n    def poll(cls, context):\n        return context.active_object is not None\n\n    def execute(self, context):\n        main(context)\n        return {'FINISHED'}\n\n\ndef menu_func(self, context):\n    self.layout.operator(SimpleOperator.bl_idname, text=SimpleOperator.bl_label)\n\n\n# Register and add to the \"object\" menu (required to also use F3 search \"Simple Object Operator\" for quick access).\ndef register():\n    bpy.utils.register_class(SimpleOperator)\n    bpy.types.VIEW3D_MT_object.append(menu_func)\n\n\ndef unregister():\n    bpy.utils.unregister_class(SimpleOperator)\n    bpy.types.VIEW3D_MT_object.remove(menu_func)\n\n\nif __name__ == \"__main__\":\n    register()\n\n    # Test call.\n    bpy.ops.object.simple_operator()"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": "import bpy\n\n\nclass HelloWorldPanel(bpy.types.Panel):\n    \"\"\"Creates a Panel in the Object properties window\"\"\"\n    bl_label = \"Hello World Panel\"\n    bl_idname = \"OBJECT_PT_hello\"\n    bl_space_type = 'PROPERTIES'\n    bl_region_type = 'WINDOW'\n    bl_context = \"object\"\n\n    def draw(self, context):\n        layout = self.layout\n\n        obj = context.object\n\n        row = layout.row()\n        row.label(text=\"Hello world!\", icon='WORLD_DATA')\n\n        row = layout.row()\n        row.label(text=\"Active object is: \" + obj.name)\n        row = layout.row()\n        row.prop(obj, \"name\")\n\n        row = layout.row()\n        row.operator(\"mesh.primitive_cube_add\")\n\n\ndef register():\n    bpy.utils.register_class(HelloWorldPanel)\n\n\ndef unregister():\n    bpy.utils.unregister_class(HelloWorldPanel)\n\n\nif __name__ == \"__main__\":\n    register()"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": ">>> C.object.rotation_mode = 'AXIS_ANGLE'"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": "# Setting multiple snap targets.\nbpy.context.scene.tool_settings.snap_elements_base = {'VERTEX', 'EDGE'}\n\n# Passing as an operator argument for report types.\nself.report({'WARNING', 'INFO'}, \"Some message!\")"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": ">>> bpy.context.object\nbpy.data.objects['Cube']"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": ">>> C.scene.objects\nbpy.data.scenes['Scene'].objects"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": "bpy.context.object.matrix_world @ bpy.context.object.data.verts[0].co"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": "# Modifies the Z axis in place.\nbpy.context.object.location.z += 2.0\n\n# Location variable holds a reference to the object too.\nlocation = bpy.context.object.location\nlocation *= 2.0\n\n# Copying the value drops the reference so the value can be passed to\n# functions and modified without unwanted side effects.\nlocation = bpy.context.object.location.copy()"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": "obj = bpy.context.object\nobj.location[2] = 0.0\nobj.keyframe_insert(data_path=\"location\", frame=10.0, index=2)\nobj.location[2] = 1.0\nobj.keyframe_insert(data_path=\"location\", frame=20.0, index=2)"
    },
    {
        "source": "https://docs.blender.org/api/current/info_quickstart.html",
        "description": "Code example from Blender API page: info_quickstart.html",
        "code": "obj = bpy.context.object\n\n# Create the action, with a slot for the object, a layer, and a keyframe strip:\naction = bpy.data.actions.new(name=\"MyAction\")\nslot = action.slots.new(obj.id_type, obj.name)\nstrip = action.layers.new(\"MyLayer\").strips.new(type='KEYFRAME')\n\n# Create a channelbag to hold the F-Curves for the slot:\nchannelbag = strip.channelbag(slot, ensure=True)\n\n# Create the F-Curve with two keyframes:\nfcu_z = channelbag.fcurves.new(data_path=\"location\", index=2)\nfcu_z.keyframe_points.add(2)\nfcu_z.keyframe_points[0].co = 10.0, 0.0\nfcu_z.keyframe_points[1].co = 20.0, 1.0\n\n# Assign the action and the slot to the object:\nadt = obj.animation_data_create()\nadt.action = action\nadt.action_slot = slot"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_operators.html",
        "description": "Code example from Blender API page: info_gotchas_operators.html",
        "code": ">>> bpy.ops.action.clean(threshold=0.001)\nRuntimeError: Operator bpy.ops.action.clean.poll() failed, context is incorrect"
    },
    {
        "source": "https://docs.blender.org/api/current/info_gotchas_operators.html",
        "description": "Code example from Blender API page: info_gotchas_operators.html",
        "code": ">>> bpy.ops.gpencil.draw()\nRuntimeError: Operator bpy.ops.gpencil.draw.poll() Failed to find Grease Pencil data to draw into"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.Image.html",
        "description": "Code example from Blender API page: bpy.types.Image.html",
        "code": "import bpy\n\nimage_src = bpy.data.images.new('src', 1024, 102)\nprint(image_src.size)\nprint(image_src.pixels[0:4])\n\nimage_src.scale(1024, 720)\nimage_src.pixels[0:4] = (0.5, 0.5, 0.5, 0.5)\nimage_src.update()\nprint(image_src.size)\nprint(image_src.pixels[0:4])\n\nimage_dest = image_src.copy()\nimage_dest.update()\nprint(image_dest.size)\nprint(image_dest.pixels[0:4])"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.bpy_prop_collection.html",
        "description": "Code example from Blender API page: bpy.types.bpy_prop_collection.html",
        "code": "collection.foreach_get(attr, some_seq)\n\n# Python equivalent.\nfor i in range(len(seq)):\n    some_seq[i] = getattr(collection[i], attr)"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.bpy_prop_collection.html",
        "description": "Code example from Blender API page: bpy.types.bpy_prop_collection.html",
        "code": "collection.foreach_set(attr, some_seq)\n\n# Python equivalent.\nfor i in range(len(some_seq)):\n    setattr(collection[i], attr, some_seq[i])"
    },
    {
        "source": "https://docs.blender.org/api/current/bpy.types.NodeTree.html",
        "description": "Code example from Blender API page: bpy.types.NodeTree.html",
        "code": "import bpy\n\n\nclass CyclesNodeTree(bpy.types.NodeTree):\n    \"\"\" This operator is only visible when Cycles is the selected render engine\"\"\"\n    bl_label = \"Cycles Node Tree\"\n    bl_icon = 'NONE'\n\n    @classmethod\n    def poll(cls, context):\n        return context.scene.render.engine == 'CYCLES'\n\n\nbpy.utils.register_class(CyclesNodeTree)"
    },
    {
        "source": "https://docs.blender.org/api/current/bmesh.ops.html",
        "description": "Code example from Blender API page: bmesh.ops.html",
        "code": "# This script uses bmesh operators to make 2 links of a chain.\n\nimport bpy\nimport bmesh\nimport math\nimport mathutils\n\n# Make a new BMesh\nbm = bmesh.new()\n\n# Add a circle XXX, should return all geometry created, not just verts.\nbmesh.ops.create_circle(\n    bm,\n    cap_ends=False,\n    radius=0.2,\n    segments=8)\n\n\n# Spin and deal with geometry on side 'a'\nedges_start_a = bm.edges[:]\ngeom_start_a = bm.verts[:] + edges_start_a\nret = bmesh.ops.spin(\n    bm,\n    geom=geom_start_a,\n    angle=math.radians(180.0),\n    steps=8,\n    axis=(1.0, 0.0, 0.0),\n    cent=(0.0, 1.0, 0.0))\nedges_end_a = [ele for ele in ret[\"geom_last\"]\n               if isinstance(ele, bmesh.types.BMEdge)]\ndel ret\n\n\n# Extrude and create geometry on side 'b'\nret = bmesh.ops.extrude_edge_only(\n    bm,\n    edges=edges_start_a)\ngeom_extrude_mid = ret[\"geom\"]\ndel ret\n\n\n# Collect the edges to spin XXX, 'extrude_edge_only' could return this.\nverts_extrude_b = [ele for ele in geom_extrude_mid\n                   if isinstance(ele, bmesh.types.BMVert)]\nedges_extrude_b = [ele for ele in geom_extrude_mid\n                   if isinstance(ele, bmesh.types.BMEdge) and ele.is_boundary]\nbmesh.ops.translate(\n    bm,\n    verts=verts_extrude_b,\n    vec=(0.0, 0.0, 1.0))\n\n\n# Create the circle on side 'b'\nret = bmesh.ops.spin(\n    bm,\n    geom=verts_extrude_b + edges_extrude_b,\n    angle=-math.radians(180.0),\n    steps=8,\n    axis=(1.0, 0.0, 0.0),\n    cent=(0.0, 1.0, 1.0))\nedges_end_b = [ele for ele in ret[\"geom_last\"]\n               if isinstance(ele, bmesh.types.BMEdge)]\ndel ret\n\n\n# Bridge the resulting edge loops of both spins 'a & b'\nbmesh.ops.bridge_loops(\n    bm,\n    edges=edges_end_a + edges_end_b)\n\n\n# Now we have made a links of the chain, make a copy and rotate it\n# (so this looks something like a chain)\n\nret = bmesh.ops.duplicate(\n    bm,\n    geom=bm.verts[:] + bm.edges[:] + bm.faces[:])\ngeom_dupe = ret[\"geom\"]\nverts_dupe = [ele for ele in geom_dupe if isinstance(ele, bmesh.types.BMVert)]\ndel ret\n\n# position the new link\nbmesh.ops.translate(\n    bm,\n    verts=verts_dupe,\n    vec=(0.0, 0.0, 2.0))\nbmesh.ops.rotate(\n    bm,\n    verts=verts_dupe,\n    cent=(0.0, 1.0, 0.0),\n    matrix=mathutils.Matrix.Rotation(math.radians(90.0), 3, 'Z'))\n\n# Done with creating the mesh, simply link it into the scene so we can see it\n\n# Finish up, write the bmesh into a new mesh\nme = bpy.data.meshes.new(\"Mesh\")\nbm.to_mesh(me)\nbm.free()\n\n\n# Add the mesh to the scene\nobj = bpy.data.objects.new(\"Object\", me)\nbpy.context.collection.objects.link(obj)\n\n# Select and make active\nbpy.context.view_layer.objects.active = obj\nobj.select_set(True)"
    }
]